!function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,r){!function(e,t){if(!O[e]||!w[e])return;for(var r in w[e]=!1,t)Object.prototype.hasOwnProperty.call(t,r)&&(_[r]=t[r]);0==--y&&0===m&&S()}(e,r),t&&t(e,r)};var r,n=!0,o="0a58b7ad47457b4485ff",i=1e4,s={},a=[],c=[];function d(e){var t=D[e];if(!t)return A;var n=function(n){return t.hot.active?(D[n]?-1===D[n].parents.indexOf(e)&&D[n].parents.push(e):(a=[e],r=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),a=[]),A(n)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return A[e]},set:function(t){A[e]=t}}};for(var i in A)Object.prototype.hasOwnProperty.call(A,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(n,i,o(i));return n.e=function(e){return"ready"===p&&f("prepare"),m++,A.e(e).then(t,(function(e){throw t(),e}));function t(){m--,"prepare"===p&&(v[e]||E(e),0===m&&0===y&&S())}},n.t=function(e,t){return 1&t&&(e=n(e)),A.t(e,-2&t)},n}function l(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:r!==e,active:!0,accept:function(e,r){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._acceptedDependencies[e[n]]=r||function(){};else t._acceptedDependencies[e]=r||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._declinedDependencies[e[r]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var r=t._disposeHandlers.indexOf(e);r>=0&&t._disposeHandlers.splice(r,1)},check:x,apply:j,status:function(e){if(!e)return p;u.push(e)},addStatusHandler:function(e){u.push(e)},removeStatusHandler:function(e){var t=u.indexOf(e);t>=0&&u.splice(t,1)},data:s[e]};return r=void 0,t}var u=[],p="idle";function f(e){p=e;for(var t=0;t<u.length;t++)u[t].call(null,e)}var h,_,g,y=0,m=0,v={},w={},O={};function b(e){return+e+""===e?+e:e}function x(e){if("idle"!==p)throw new Error("check() is only allowed in idle status");return n=e,f("check"),(t=i,t=t||1e4,new Promise((function(e,r){if("undefined"==typeof XMLHttpRequest)return r(new Error("No browser support"));try{var n=new XMLHttpRequest,i=A.p+""+o+".hot-update.json";n.open("GET",i,!0),n.timeout=t,n.send(null)}catch(e){return r(e)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)r(new Error("Manifest request to "+i+" timed out."));else if(404===n.status)e();else if(200!==n.status&&304!==n.status)r(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(n.responseText)}catch(e){return void r(e)}e(t)}}}))).then((function(e){if(!e)return f("idle"),null;w={},v={},O=e.c,g=e.h,f("prepare");var t=new Promise((function(e,t){h={resolve:e,reject:t}}));_={};return E(1),"prepare"===p&&0===m&&0===y&&S(),t}));var t}function E(e){O[e]?(w[e]=!0,y++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=A.p+""+e+"."+o+".hot-update.js",document.head.appendChild(t)}(e)):v[e]=!0}function S(){f("ready");var e=h;if(h=null,e)if(n)Promise.resolve().then((function(){return j(n)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var r in _)Object.prototype.hasOwnProperty.call(_,r)&&t.push(b(r));e.resolve(t)}}function j(t){if("ready"!==p)throw new Error("apply() is only allowed in ready status");var r,n,i,c,d;function l(e){for(var t=[e],r={},n=t.map((function(e){return{chain:[e],id:e}}));n.length>0;){var o=n.pop(),i=o.id,s=o.chain;if((c=D[i])&&!c.hot._selfAccepted){if(c.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:i};if(c.hot._main)return{type:"unaccepted",chain:s,moduleId:i};for(var a=0;a<c.parents.length;a++){var d=c.parents[a],l=D[d];if(l){if(l.hot._declinedDependencies[i])return{type:"declined",chain:s.concat([d]),moduleId:i,parentId:d};-1===t.indexOf(d)&&(l.hot._acceptedDependencies[i]?(r[d]||(r[d]=[]),u(r[d],[i])):(delete r[d],t.push(d),n.push({chain:s.concat([d]),id:d})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:r}}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];-1===e.indexOf(n)&&e.push(n)}}t=t||{};var h={},y=[],m={},v=function(){console.warn("[HMR] unexpected require("+x.moduleId+") to disposed module")};for(var w in _)if(Object.prototype.hasOwnProperty.call(_,w)){var x;d=b(w);var E=!1,S=!1,j=!1,I="";switch((x=_[w]?l(d):{type:"disposed",moduleId:w}).chain&&(I="\nUpdate propagation: "+x.chain.join(" -> ")),x.type){case"self-declined":t.onDeclined&&t.onDeclined(x),t.ignoreDeclined||(E=new Error("Aborted because of self decline: "+x.moduleId+I));break;case"declined":t.onDeclined&&t.onDeclined(x),t.ignoreDeclined||(E=new Error("Aborted because of declined dependency: "+x.moduleId+" in "+x.parentId+I));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(x),t.ignoreUnaccepted||(E=new Error("Aborted because "+d+" is not accepted"+I));break;case"accepted":t.onAccepted&&t.onAccepted(x),S=!0;break;case"disposed":t.onDisposed&&t.onDisposed(x),j=!0;break;default:throw new Error("Unexception type "+x.type)}if(E)return f("abort"),Promise.reject(E);if(S)for(d in m[d]=_[d],u(y,x.outdatedModules),x.outdatedDependencies)Object.prototype.hasOwnProperty.call(x.outdatedDependencies,d)&&(h[d]||(h[d]=[]),u(h[d],x.outdatedDependencies[d]));j&&(u(y,[x.moduleId]),m[d]=v)}var q,C=[];for(n=0;n<y.length;n++)d=y[n],D[d]&&D[d].hot._selfAccepted&&m[d]!==v&&C.push({module:d,errorHandler:D[d].hot._selfAccepted});f("dispose"),Object.keys(O).forEach((function(e){!1===O[e]&&function(e){delete installedChunks[e]}(e)}));for(var H,P,k=y.slice();k.length>0;)if(d=k.pop(),c=D[d]){var T={},M=c.hot._disposeHandlers;for(i=0;i<M.length;i++)(r=M[i])(T);for(s[d]=T,c.hot.active=!1,delete D[d],delete h[d],i=0;i<c.children.length;i++){var L=D[c.children[i]];L&&((q=L.parents.indexOf(d))>=0&&L.parents.splice(q,1))}}for(d in h)if(Object.prototype.hasOwnProperty.call(h,d)&&(c=D[d]))for(P=h[d],i=0;i<P.length;i++)H=P[i],(q=c.children.indexOf(H))>=0&&c.children.splice(q,1);for(d in f("apply"),o=g,m)Object.prototype.hasOwnProperty.call(m,d)&&(e[d]=m[d]);var R=null;for(d in h)if(Object.prototype.hasOwnProperty.call(h,d)&&(c=D[d])){P=h[d];var U=[];for(n=0;n<P.length;n++)if(H=P[n],r=c.hot._acceptedDependencies[H]){if(-1!==U.indexOf(r))continue;U.push(r)}for(n=0;n<U.length;n++){r=U[n];try{r(P)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:d,dependencyId:P[n],error:e}),t.ignoreErrored||R||(R=e)}}}for(n=0;n<C.length;n++){var N=C[n];d=N.module,a=[d];try{A(d)}catch(e){if("function"==typeof N.errorHandler)try{N.errorHandler(e)}catch(r){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:d,error:r,originalError:e}),t.ignoreErrored||R||(R=r),R||(R=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:d,error:e}),t.ignoreErrored||R||(R=e)}}return R?(f("fail"),Promise.reject(R)):(f("idle"),new Promise((function(e){e(y)})))}var D={};function A(t){if(D[t])return D[t].exports;var r=D[t]={i:t,l:!1,exports:{},hot:l(t),parents:(c=a,a=[],c),children:[]};return e[t].call(r.exports,r,r.exports,d(t)),r.l=!0,r.exports}A.m=e,A.c=D,A.d=function(e,t,r){A.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},A.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},A.t=function(e,t){if(1&t&&(e=A(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(A.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)A.d(r,n,function(t){return e[t]}.bind(null,n));return r},A.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return A.d(t,"a",t),t},A.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},A.p="/assets/",A.h=function(){return o},d(1134)(A.s=1134)}({1134:function(e,t,r){e.exports=r(1135)},1135:function(e,t,r){"use strict";r.r(t);var n=r(594),o=r(23);n.CrossStorageHub.init(o.a.crossStorageRules)},1136:function(e,t,r){!function(r){function n(e,t){var r;t=t||{},this._id=n._generateUUID(),this._promise=t.promise||Promise,this._frameId=t.frameId||"CrossStorageClient-"+this._id,this._origin=n._getOrigin(e),this._requests={},this._connected=!1,this._closed=!1,this._count=0,this._timeout=t.timeout||5e3,this._listener=null,this._installListener(),t.frameId&&(r=document.getElementById(t.frameId)),r&&this._poll(),r=r||this._createFrame(e),this._hub=r.contentWindow}n.frameStyle={display:"none",position:"absolute",top:"-999px",left:"-999px"},n._getOrigin=function(e){var t;return(t=document.createElement("a")).href=e,t.host||(t=window.location),((t.protocol&&":"!==t.protocol?t.protocol:window.location.protocol)+"//"+t.host).replace(/:80$|:443$/,"")},n._generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},n.prototype.onConnect=function(){var e=this;return this._connected?this._promise.resolve():this._closed?this._promise.reject(new Error("CrossStorageClient has closed")):(this._requests.connect||(this._requests.connect=[]),new this._promise((function(t,r){var n=setTimeout((function(){r(new Error("CrossStorageClient could not connect"))}),e._timeout);e._requests.connect.push((function(e){if(clearTimeout(n),e)return r(e);t()}))})))},n.prototype.set=function(e,t){return this._request("set",{key:e,value:t})},n.prototype.get=function(e){var t=Array.prototype.slice.call(arguments);return this._request("get",{keys:t})},n.prototype.del=function(){var e=Array.prototype.slice.call(arguments);return this._request("del",{keys:e})},n.prototype.clear=function(){return this._request("clear")},n.prototype.getKeys=function(){return this._request("getKeys")},n.prototype.close=function(){var e=document.getElementById(this._frameId);e&&e.parentNode.removeChild(e),window.removeEventListener?window.removeEventListener("message",this._listener,!1):window.detachEvent("onmessage",this._listener),this._connected=!1,this._closed=!0},n.prototype._installListener=function(){var e=this;this._listener=function(t){var r,n,o;if(!e._closed&&t.data&&"string"==typeof t.data&&("null"===t.origin?"file://":t.origin)===e._origin)if("cross-storage:unavailable"!==t.data){if(-1!==t.data.indexOf("cross-storage:")&&!e._connected){if(e._connected=!0,!e._requests.connect)return;for(r=0;r<e._requests.connect.length;r++)e._requests.connect[r](n);delete e._requests.connect}if("cross-storage:ready"!==t.data){try{o=JSON.parse(t.data)}catch(e){return}o.id&&e._requests[o.id]&&e._requests[o.id](o.error,o.result)}}else{if(e._closed||e.close(),!e._requests.connect)return;for(n=new Error("Closing client. Could not access localStorage in hub."),r=0;r<e._requests.connect.length;r++)e._requests.connect[r](n)}},window.addEventListener?window.addEventListener("message",this._listener,!1):window.attachEvent("onmessage",this._listener)},n.prototype._poll=function(){var e,t,r;r="file://"===(e=this)._origin?"*":e._origin,t=setInterval((function(){if(e._connected)return clearInterval(t);e._hub&&e._hub.postMessage("cross-storage:poll",r)}),1e3)},n.prototype._createFrame=function(e){var t,r;for(r in(t=window.document.createElement("iframe")).id=this._frameId,n.frameStyle)n.frameStyle.hasOwnProperty(r)&&(t.style[r]=n.frameStyle[r]);return window.document.body.appendChild(t),t.src=e,t},n.prototype._request=function(e,t){var r,n;return this._closed?this._promise.reject(new Error("CrossStorageClient has closed")):((n=this)._count++,r={id:this._id+":"+n._count,method:"cross-storage:"+e,params:t},new this._promise((function(e,t){var o,i,s;o=setTimeout((function(){n._requests[r.id]&&(delete n._requests[r.id],t(new Error("Timeout: could not perform "+r.method)))}),n._timeout),n._requests[r.id]=function(i,s){if(clearTimeout(o),delete n._requests[r.id],i)return t(new Error(i));e(s)},Array.prototype.toJSON&&(i=Array.prototype.toJSON,Array.prototype.toJSON=null),s="file://"===n._origin?"*":n._origin,n._hub.postMessage(JSON.stringify(r),s),i&&(Array.prototype.toJSON=i)})))},e.exports?e.exports=n:t.CrossStorageClient=n}()},1137:function(e,t,r){var n;n={init:function(e){var t=!0;try{window.localStorage||(t=!1)}catch(e){t=!1}if(!t)try{return window.parent.postMessage("cross-storage:unavailable","*")}catch(e){return}n._permissions=e||[],n._installListener(),window.parent.postMessage("cross-storage:ready","*")},_installListener:function(){var e=n._listener;window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent("onmessage",e)},_listener:function(e){var t,r,o,i,s,a,c;if(t="null"===e.origin?"file://":e.origin,"cross-storage:poll"===e.data)return window.parent.postMessage("cross-storage:ready",e.origin);if("cross-storage:ready"!==e.data){try{o=JSON.parse(e.data)}catch(e){return}if(o&&"string"==typeof o.method&&(i=o.method.split("cross-storage:")[1])){if(n._permitted(t,i))try{a=n["_"+i](o.params)}catch(e){s=e.message}else s="Invalid permissions for "+i;c=JSON.stringify({id:o.id,error:s,result:a}),r="file://"===t?"*":t,window.parent.postMessage(c,r)}}},_permitted:function(e,t){var r,o,i;if(r=["get","set","del","clear","getKeys"],!n._inArray(t,r))return!1;for(o=0;o<n._permissions.length;o++)if((i=n._permissions[o]).origin instanceof RegExp&&i.allow instanceof Array&&i.origin.test(e)&&n._inArray(t,i.allow))return!0;return!1},_set:function(e){window.localStorage.setItem(e.key,e.value)},_get:function(e){var t,r,n,o;for(t=window.localStorage,r=[],n=0;n<e.keys.length;n++){try{o=t.getItem(e.keys[n])}catch(e){o=null}r.push(o)}return r.length>1?r:r[0]},_del:function(e){for(var t=0;t<e.keys.length;t++)window.localStorage.removeItem(e.keys[t])},_clear:function(){window.localStorage.clear()},_getKeys:function(e){var t,r,n;for(n=[],r=window.localStorage.length,t=0;t<r;t++)n.push(window.localStorage.key(t));return n},_inArray:function(e,t){for(var r=0;r<t.length;r++)if(e===t[r])return!0;return!1},_now:function(){return"function"==typeof Date.now?Date.now():(new Date).getTime()}},e.exports?e.exports=n:t.CrossStorageHub=n},23:function(e,t,r){"use strict";var n={perPage:15,spinnerConfig:{lines:11,length:0,width:8,radius:60,scale:.25,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:91,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"}},o=n,i=("undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(n,"default","/Users/jonathanwohl/Projects/Openframe/Openframe-WebApp/src/config/base.js"),{appEnv:"dev",apiBase:"http://localhost:8888/v0/",crossStorageRules:[{origin:/localhost:3030$/,allow:["get"]}]}),s=Object.freeze(Object.assign({},o,i));t.a=s,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(i,"config","/Users/jonathanwohl/Projects/Openframe/Openframe-WebApp/src/config/dev.js"),__REACT_HOT_LOADER__.register(s,"default","/Users/jonathanwohl/Projects/Openframe/Openframe-WebApp/src/config/dev.js"))},594:function(e,t,r){e.exports={CrossStorageClient:r(1136),CrossStorageHub:r(1137)}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2h1Yi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3Jvc3Mtc3RvcmFnZS9saWIvY2xpZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jcm9zcy1zdG9yYWdlL2xpYi9odWIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbmZpZy9iYXNlLmpzIiwid2VicGFjazovLy8uL3NyYy9jb25maWcvZGV2LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jcm9zcy1zdG9yYWdlL2xpYi9pbmRleC5qcyJdLCJuYW1lcyI6WyJwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayIsIndpbmRvdyIsImNodW5rSWQiLCJtb3JlTW9kdWxlcyIsImhvdEF2YWlsYWJsZUZpbGVzTWFwIiwiaG90UmVxdWVzdGVkRmlsZXNNYXAiLCJtb2R1bGVJZCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImhvdFVwZGF0ZSIsImhvdFdhaXRpbmdGaWxlcyIsImhvdENodW5rc0xvYWRpbmciLCJob3RVcGRhdGVEb3dubG9hZGVkIiwiaG90QWRkVXBkYXRlQ2h1bmsiLCJob3RDdXJyZW50Q2hpbGRNb2R1bGUiLCJob3RBcHBseU9uVXBkYXRlIiwiaG90Q3VycmVudEhhc2giLCJob3RSZXF1ZXN0VGltZW91dCIsImhvdEN1cnJlbnRNb2R1bGVEYXRhIiwiaG90Q3VycmVudFBhcmVudHMiLCJob3RDdXJyZW50UGFyZW50c1RlbXAiLCJob3RDcmVhdGVSZXF1aXJlIiwibWUiLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImZuIiwicmVxdWVzdCIsImhvdCIsImFjdGl2ZSIsInBhcmVudHMiLCJpbmRleE9mIiwicHVzaCIsImNoaWxkcmVuIiwiY29uc29sZSIsIndhcm4iLCJPYmplY3RGYWN0b3J5IiwibmFtZSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJzZXQiLCJ2YWx1ZSIsImRlZmluZVByb3BlcnR5IiwiZSIsImhvdFN0YXR1cyIsImhvdFNldFN0YXR1cyIsInRoZW4iLCJmaW5pc2hDaHVua0xvYWRpbmciLCJlcnIiLCJob3RXYWl0aW5nRmlsZXNNYXAiLCJob3RFbnN1cmVVcGRhdGVDaHVuayIsInQiLCJtb2RlIiwiaG90Q3JlYXRlTW9kdWxlIiwiX2FjY2VwdGVkRGVwZW5kZW5jaWVzIiwiX2RlY2xpbmVkRGVwZW5kZW5jaWVzIiwiX3NlbGZBY2NlcHRlZCIsIl9zZWxmRGVjbGluZWQiLCJfZGlzcG9zZUhhbmRsZXJzIiwiX21haW4iLCJhY2NlcHQiLCJkZXAiLCJjYWxsYmFjayIsInVuZGVmaW5lZCIsImkiLCJsZW5ndGgiLCJkZWNsaW5lIiwiZGlzcG9zZSIsImFkZERpc3Bvc2VIYW5kbGVyIiwicmVtb3ZlRGlzcG9zZUhhbmRsZXIiLCJpZHgiLCJzcGxpY2UiLCJjaGVjayIsImhvdENoZWNrIiwiYXBwbHkiLCJob3RBcHBseSIsInN0YXR1cyIsImwiLCJob3RTdGF0dXNIYW5kbGVycyIsImFkZFN0YXR1c0hhbmRsZXIiLCJyZW1vdmVTdGF0dXNIYW5kbGVyIiwiZGF0YSIsIm5ld1N0YXR1cyIsImhvdERlZmVycmVkIiwiaG90VXBkYXRlTmV3SGFzaCIsInRvTW9kdWxlSWQiLCJpZCIsIkVycm9yIiwicmVxdWVzdFRpbWVvdXQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIlhNTEh0dHBSZXF1ZXN0IiwicmVxdWVzdFBhdGgiLCJwIiwib3BlbiIsInRpbWVvdXQiLCJzZW5kIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInVwZGF0ZSIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlVGV4dCIsImMiLCJoIiwicHJvbWlzZSIsInNjcmlwdCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNoYXJzZXQiLCJzcmMiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJob3REb3dubG9hZFVwZGF0ZUNodW5rIiwiZGVmZXJyZWQiLCJyZXN1bHQiLCJvdXRkYXRlZE1vZHVsZXMiLCJvcHRpb25zIiwiY2IiLCJqIiwibW9kdWxlIiwiZ2V0QWZmZWN0ZWRTdHVmZiIsInVwZGF0ZU1vZHVsZUlkIiwib3V0ZGF0ZWREZXBlbmRlbmNpZXMiLCJxdWV1ZSIsIm1hcCIsImNoYWluIiwicXVldWVJdGVtIiwicG9wIiwidHlwZSIsInBhcmVudElkIiwicGFyZW50IiwiY29uY2F0IiwiYWRkQWxsVG9TZXQiLCJhIiwiYiIsIml0ZW0iLCJhcHBsaWVkVXBkYXRlIiwid2FyblVuZXhwZWN0ZWRSZXF1aXJlIiwiYWJvcnRFcnJvciIsImRvQXBwbHkiLCJkb0Rpc3Bvc2UiLCJjaGFpbkluZm8iLCJqb2luIiwib25EZWNsaW5lZCIsImlnbm9yZURlY2xpbmVkIiwib25VbmFjY2VwdGVkIiwiaWdub3JlVW5hY2NlcHRlZCIsIm9uQWNjZXB0ZWQiLCJvbkRpc3Bvc2VkIiwib3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzIiwiZXJyb3JIYW5kbGVyIiwia2V5cyIsImZvckVhY2giLCJpbnN0YWxsZWRDaHVua3MiLCJob3REaXNwb3NlQ2h1bmsiLCJkZXBlbmRlbmN5IiwibW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMiLCJzbGljZSIsImRpc3Bvc2VIYW5kbGVycyIsImNoaWxkIiwibW9kdWxlcyIsImVycm9yIiwiY2FsbGJhY2tzIiwib25FcnJvcmVkIiwiZGVwZW5kZW5jeUlkIiwiaWdub3JlRXJyb3JlZCIsImVycjIiLCJvcmlnaW5hbEVycm9yIiwiZXhwb3J0cyIsIm0iLCJkIiwiZ2V0dGVyIiwibyIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJzIiwiQ3Jvc3NTdG9yYWdlSHViIiwiaW5pdCIsImNvbmZpZyIsImNyb3NzU3RvcmFnZVJ1bGVzIiwicm9vdCIsIkNyb3NzU3RvcmFnZUNsaWVudCIsInVybCIsIm9wdHMiLCJmcmFtZSIsInRoaXMiLCJfaWQiLCJfZ2VuZXJhdGVVVUlEIiwiX3Byb21pc2UiLCJfZnJhbWVJZCIsImZyYW1lSWQiLCJfb3JpZ2luIiwiX2dldE9yaWdpbiIsIl9yZXF1ZXN0cyIsIl9jb25uZWN0ZWQiLCJfY2xvc2VkIiwiX2NvdW50IiwiX3RpbWVvdXQiLCJfbGlzdGVuZXIiLCJfaW5zdGFsbExpc3RlbmVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJfcG9sbCIsIl9jcmVhdGVGcmFtZSIsIl9odWIiLCJjb250ZW50V2luZG93IiwiZnJhbWVTdHlsZSIsImRpc3BsYXkiLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJ1cmkiLCJocmVmIiwiaG9zdCIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJyZXBsYWNlIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwib25Db25uZWN0IiwiY2xpZW50IiwiY29ubmVjdCIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJfcmVxdWVzdCIsImFyZ3MiLCJBcnJheSIsImFyZ3VtZW50cyIsImRlbCIsImNsZWFyIiwiZ2V0S2V5cyIsImNsb3NlIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRldGFjaEV2ZW50IiwibWVzc2FnZSIsInJlc3BvbnNlIiwib3JpZ2luIiwiYWRkRXZlbnRMaXN0ZW5lciIsImF0dGFjaEV2ZW50IiwiaW50ZXJ2YWwiLCJ0YXJnZXRPcmlnaW4iLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJwb3N0TWVzc2FnZSIsInN0eWxlIiwiYm9keSIsIm1ldGhvZCIsInBhcmFtcyIsInJlcSIsIm9yaWdpbmFsVG9KU09OIiwidG9KU09OIiwic3RyaW5naWZ5IiwicGVybWlzc2lvbnMiLCJhdmFpbGFibGUiLCJsb2NhbFN0b3JhZ2UiLCJfcGVybWlzc2lvbnMiLCJsaXN0ZW5lciIsInNwbGl0IiwiX3Blcm1pdHRlZCIsImVudHJ5IiwiX2luQXJyYXkiLCJSZWdFeHAiLCJhbGxvdyIsInRlc3QiLCJzZXRJdGVtIiwic3RvcmFnZSIsImdldEl0ZW0iLCJyZW1vdmVJdGVtIiwiYXJyYXkiLCJEYXRlIiwibm93IiwiZ2V0VGltZSIsInBlclBhZ2UiLCJzcGlubmVyQ29uZmlnIiwibGluZXMiLCJ3aWR0aCIsInJhZGl1cyIsInNjYWxlIiwiY29ybmVycyIsImNvbG9yIiwib3BhY2l0eSIsInJvdGF0ZSIsImRpcmVjdGlvbiIsInNwZWVkIiwidHJhaWwiLCJmcHMiLCJ6SW5kZXgiLCJjbGFzc05hbWUiLCJzaGFkb3ciLCJod2FjY2VsIiwiYXBwRW52IiwiYXBpQmFzZSIsImZyZWV6ZSIsImFzc2lnbiIsImJhc2VDb25maWciXSwibWFwcGluZ3MiOiJhQUdFLElBQUlBLEVBQTBCQyxPQUF5QixpQkFDdkRBLE9BQXlCLGlCQUN6QixTQUFrQ0MsRUFBU0MsSUFnUjNDLFNBQTJCRCxFQUFTQyxHQUNuQyxJQUFLQyxFQUFxQkYsS0FBYUcsRUFBcUJILEdBQzNELE9BRUQsSUFBSyxJQUFJSSxLQURURCxFQUFxQkgsSUFBVyxFQUNYQyxFQUNoQkksT0FBT0MsVUFBVUMsZUFBZUMsS0FBS1AsRUFBYUcsS0FDckRLLEVBQVVMLEdBQVlILEVBQVlHLElBR1YsS0FBcEJNLEdBQThDLElBQXJCQyxHQUM5QkMsSUF6UkRDLENBQWtCYixFQUFTQyxHQUN2QkgsR0FBeUJBLEVBQXdCRSxFQUFTQyxJQXVEL0QsSUFLSWEsRUFMQUMsR0FBbUIsRUFFbkJDLEVBQWlCLHVCQUNqQkMsRUFBb0IsSUFDcEJDLEVBQXVCLEdBR3ZCQyxFQUFvQixHQUVwQkMsRUFBd0IsR0FHNUIsU0FBU0MsRUFBaUJqQixHQUN6QixJQUFJa0IsRUFBS0MsRUFBaUJuQixHQUMxQixJQUFLa0IsRUFBSSxPQUFPRSxFQUNoQixJQUFJQyxFQUFLLFNBQVNDLEdBc0JqQixPQXJCSUosRUFBR0ssSUFBSUMsUUFDTkwsRUFBaUJHLElBQ3lDLElBQXpESCxFQUFpQkcsR0FBU0csUUFBUUMsUUFBUTFCLElBQzdDbUIsRUFB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SXZCLElBQVVnUCxFQUFNek4sR0FBSSxPQUFPLEVBR2pDLE9BQU8sR0FTVCxLQUF1QixXQUNyQixNQUF3QixtQkFBYjBOLEtBQUtDLElBQ1BELEtBQUtDLE9BR1AsSUFBSUQsTUFBT0UsWUFNaUJuSyxFQUFPaUQsUUFDMUNqRCxFQUFPaUQsUUFBVWlCLEVBRWpCakIsRUFBUWlCLGdCQUFrQkEsRyxzQ0NqUWYsQ0FDYmtHLFFBQVMsR0FDVEMsY0FBZSxDQUNYQyxNQUFPLEdBQ1A5TixPQUFRLEVBQ1IrTixNQUFPLEVBQ1BDLE9BQVEsR0FDUkMsTUFBTyxJQUNQQyxRQUFTLEVBQ1RDLE1BQU8sT0FDUEMsUUFBUyxJQUNUQyxPQUFRLEVBQ1JDLFVBQVcsRUFDWEMsTUFBTyxFQUNQQyxNQUFPLEdBQ1BDLElBQUssR0FDTEMsT0FBUSxJQUNSQyxVQUFXLFVBQ1hqRixJQUFLLE1BQ0xDLEtBQU0sTUFDTmlGLFFBQVEsRUFDUkMsU0FBUyxFQUNUcEYsU0FBVSxhQXRCRCxJQ0NYN0IsRyxrS0FBUyxDQUNYa0gsT0FBUSxNQUNSQyxRQUFTLDRCQUNUbEgsa0JBQW1CLENBQ2pCLENBQ0kyRCxPQUFRLGtCQUNSMEIsTUFBTyxDQUFDLFcsRUFLRDlRLE9BQU80UyxPQUFPNVMsT0FBTzZTLE9BQU8sR0FBSUMsRUFBWXRILElBQTVDLE0seUVBWFhBLEUsbU9DSkpwRSxFQUFPaUQsUUFBVSxDQUNmc0IsbUJBQW9CLEVBQVEsTUFDNUJMLGdCQUFvQixFQUFRIiwiZmlsZSI6Imh1Yi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdGZ1bmN0aW9uIGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKSB7XG4gXHRcdGRlbGV0ZSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4gXHR9XG4gXHR2YXIgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2sgPSB3aW5kb3dbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdO1xuIFx0d2luZG93W1wid2VicGFja0hvdFVwZGF0ZVwiXSA9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gd2VicGFja0hvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7XG4gXHRcdGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcbiBcdFx0aWYgKHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKSBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XG4gXHR9IDtcblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0dmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gXHRcdHNjcmlwdC5jaGFyc2V0ID0gXCJ1dGYtOFwiO1xuIFx0XHRzY3JpcHQuc3JjID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArIGNodW5rSWQgKyBcIi5cIiArIGhvdEN1cnJlbnRIYXNoICsgXCIuaG90LXVwZGF0ZS5qc1wiO1xuIFx0XHRpZiAobnVsbCkgc2NyaXB0LmNyb3NzT3JpZ2luID0gbnVsbDtcbiBcdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkTWFuaWZlc3QocmVxdWVzdFRpbWVvdXQpIHtcbiBcdFx0cmVxdWVzdFRpbWVvdXQgPSByZXF1ZXN0VGltZW91dCB8fCAxMDAwMDtcbiBcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuIFx0XHRcdGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgPT09IFwidW5kZWZpbmVkXCIpIHtcbiBcdFx0XHRcdHJldHVybiByZWplY3QobmV3IEVycm9yKFwiTm8gYnJvd3NlciBzdXBwb3J0XCIpKTtcbiBcdFx0XHR9XG4gXHRcdFx0dHJ5IHtcbiBcdFx0XHRcdHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gXHRcdFx0XHR2YXIgcmVxdWVzdFBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzb25cIjtcbiBcdFx0XHRcdHJlcXVlc3Qub3BlbihcIkdFVFwiLCByZXF1ZXN0UGF0aCwgdHJ1ZSk7XG4gXHRcdFx0XHRyZXF1ZXN0LnRpbWVvdXQgPSByZXF1ZXN0VGltZW91dDtcbiBcdFx0XHRcdHJlcXVlc3Quc2VuZChudWxsKTtcbiBcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdHJldHVybiByZWplY3QoZXJyKTtcbiBcdFx0XHR9XG4gXHRcdFx0cmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiBcdFx0XHRcdGlmIChyZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHJldHVybjtcbiBcdFx0XHRcdGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMCkge1xuIFx0XHRcdFx0XHQvLyB0aW1lb3V0XG4gXHRcdFx0XHRcdHJlamVjdChcbiBcdFx0XHRcdFx0XHRuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiB0aW1lZCBvdXQuXCIpXG4gXHRcdFx0XHRcdCk7XG4gXHRcdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3Quc3RhdHVzID09PSA0MDQpIHtcbiBcdFx0XHRcdFx0Ly8gbm8gdXBkYXRlIGF2YWlsYWJsZVxuIFx0XHRcdFx0XHRyZXNvbHZlKCk7XG4gXHRcdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3Quc3RhdHVzICE9PSAyMDAgJiYgcmVxdWVzdC5zdGF0dXMgIT09IDMwNCkge1xuIFx0XHRcdFx0XHQvLyBvdGhlciBmYWlsdXJlXG4gXHRcdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiBmYWlsZWQuXCIpKTtcbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdC8vIHN1Y2Nlc3NcbiBcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHR2YXIgdXBkYXRlID0gSlNPTi5wYXJzZShyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XG4gXHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcbiBcdFx0XHRcdFx0XHRyZWplY3QoZSk7XG4gXHRcdFx0XHRcdFx0cmV0dXJuO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdHJlc29sdmUodXBkYXRlKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9O1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0dmFyIGhvdEFwcGx5T25VcGRhdGUgPSB0cnVlO1xuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHR2YXIgaG90Q3VycmVudEhhc2ggPSBcIjBhNThiN2FkNDc0NTdiNDQ4NWZmXCI7XG4gXHR2YXIgaG90UmVxdWVzdFRpbWVvdXQgPSAxMDAwMDtcbiBcdHZhciBob3RDdXJyZW50TW9kdWxlRGF0YSA9IHt9O1xuIFx0dmFyIGhvdEN1cnJlbnRDaGlsZE1vZHVsZTtcbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzID0gW107XG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdHZhciBob3RDdXJyZW50UGFyZW50c1RlbXAgPSBbXTtcblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSB7XG4gXHRcdHZhciBtZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRpZiAoIW1lKSByZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXztcbiBcdFx0dmFyIGZuID0gZnVuY3Rpb24ocmVxdWVzdCkge1xuIFx0XHRcdGlmIChtZS5ob3QuYWN0aXZlKSB7XG4gXHRcdFx0XHRpZiAoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XSkge1xuIFx0XHRcdFx0XHRpZiAoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpID09PSAtMSkge1xuIFx0XHRcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5wdXNoKG1vZHVsZUlkKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHRob3RDdXJyZW50Q2hpbGRNb2R1bGUgPSByZXF1ZXN0O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKG1lLmNoaWxkcmVuLmluZGV4T2YocmVxdWVzdCkgPT09IC0xKSB7XG4gXHRcdFx0XHRcdG1lLmNoaWxkcmVuLnB1c2gocmVxdWVzdCk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdGNvbnNvbGUud2FybihcbiBcdFx0XHRcdFx0XCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgK1xuIFx0XHRcdFx0XHRcdHJlcXVlc3QgK1xuIFx0XHRcdFx0XHRcdFwiKSBmcm9tIGRpc3Bvc2VkIG1vZHVsZSBcIiArXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWRcbiBcdFx0XHRcdCk7XG4gXHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFtdO1xuIFx0XHRcdH1cbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhyZXF1ZXN0KTtcbiBcdFx0fTtcbiBcdFx0dmFyIE9iamVjdEZhY3RvcnkgPSBmdW5jdGlvbiBPYmplY3RGYWN0b3J5KG5hbWUpIHtcbiBcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG4gXHRcdFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdO1xuIFx0XHRcdFx0fSxcbiBcdFx0XHRcdHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiBcdFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXSA9IHZhbHVlO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH07XG4gXHRcdH07XG4gXHRcdGZvciAodmFyIG5hbWUgaW4gX193ZWJwYWNrX3JlcXVpcmVfXykge1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfX3dlYnBhY2tfcmVxdWlyZV9fLCBuYW1lKSAmJlxuIFx0XHRcdFx0bmFtZSAhPT0gXCJlXCIgJiZcbiBcdFx0XHRcdG5hbWUgIT09IFwidFwiXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIG5hbWUsIE9iamVjdEZhY3RvcnkobmFtZSkpO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRmbi5lID0gZnVuY3Rpb24oY2h1bmtJZCkge1xuIFx0XHRcdGlmIChob3RTdGF0dXMgPT09IFwicmVhZHlcIikgaG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcbiBcdFx0XHRob3RDaHVua3NMb2FkaW5nKys7XG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZShjaHVua0lkKS50aGVuKGZpbmlzaENodW5rTG9hZGluZywgZnVuY3Rpb24oZXJyKSB7XG4gXHRcdFx0XHRmaW5pc2hDaHVua0xvYWRpbmcoKTtcbiBcdFx0XHRcdHRocm93IGVycjtcbiBcdFx0XHR9KTtcblxuIFx0XHRcdGZ1bmN0aW9uIGZpbmlzaENodW5rTG9hZGluZygpIHtcbiBcdFx0XHRcdGhvdENodW5rc0xvYWRpbmctLTtcbiBcdFx0XHRcdGlmIChob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiKSB7XG4gXHRcdFx0XHRcdGlmICghaG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiYgaG90V2FpdGluZ0ZpbGVzID09PSAwKSB7XG4gXHRcdFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9O1xuIFx0XHRmbi50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0XHRpZiAobW9kZSAmIDEpIHZhbHVlID0gZm4odmFsdWUpO1xuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLnQodmFsdWUsIG1vZGUgJiB+MSk7XG4gXHRcdH07XG4gXHRcdHJldHVybiBmbjtcbiBcdH1cblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpIHtcbiBcdFx0dmFyIGhvdCA9IHtcbiBcdFx0XHQvLyBwcml2YXRlIHN0dWZmXG4gXHRcdFx0X2FjY2VwdGVkRGVwZW5kZW5jaWVzOiB7fSxcbiBcdFx0XHRfZGVjbGluZWREZXBlbmRlbmNpZXM6IHt9LFxuIFx0XHRcdF9zZWxmQWNjZXB0ZWQ6IGZhbHNlLFxuIFx0XHRcdF9zZWxmRGVjbGluZWQ6IGZhbHNlLFxuIFx0XHRcdF9kaXNwb3NlSGFuZGxlcnM6IFtdLFxuIFx0XHRcdF9tYWluOiBob3RDdXJyZW50Q2hpbGRNb2R1bGUgIT09IG1vZHVsZUlkLFxuXG4gXHRcdFx0Ly8gTW9kdWxlIEFQSVxuIFx0XHRcdGFjdGl2ZTogdHJ1ZSxcbiBcdFx0XHRhY2NlcHQ6IGZ1bmN0aW9uKGRlcCwgY2FsbGJhY2spIHtcbiBcdFx0XHRcdGlmIChkZXAgPT09IHVuZGVmaW5lZCkgaG90Ll9zZWxmQWNjZXB0ZWQgPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJmdW5jdGlvblwiKSBob3QuX3NlbGZBY2NlcHRlZCA9IGRlcDtcbiBcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpXG4gXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxuIFx0XHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XG4gXHRcdFx0XHRlbHNlIGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XG4gXHRcdFx0fSxcbiBcdFx0XHRkZWNsaW5lOiBmdW5jdGlvbihkZXApIHtcbiBcdFx0XHRcdGlmIChkZXAgPT09IHVuZGVmaW5lZCkgaG90Ll9zZWxmRGVjbGluZWQgPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcbiBcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXG4gXHRcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBbaV1dID0gdHJ1ZTtcbiBcdFx0XHRcdGVsc2UgaG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBdID0gdHJ1ZTtcbiBcdFx0XHR9LFxuIFx0XHRcdGRpc3Bvc2U6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcbiBcdFx0XHR9LFxuIFx0XHRcdGFkZERpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XG4gXHRcdFx0fSxcbiBcdFx0XHRyZW1vdmVEaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiBcdFx0XHRcdHZhciBpZHggPSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5pbmRleE9mKGNhbGxiYWNrKTtcbiBcdFx0XHRcdGlmIChpZHggPj0gMCkgaG90Ll9kaXNwb3NlSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0fSxcblxuIFx0XHRcdC8vIE1hbmFnZW1lbnQgQVBJXG4gXHRcdFx0Y2hlY2s6IGhvdENoZWNrLFxuIFx0XHRcdGFwcGx5OiBob3RBcHBseSxcbiBcdFx0XHRzdGF0dXM6IGZ1bmN0aW9uKGwpIHtcbiBcdFx0XHRcdGlmICghbCkgcmV0dXJuIGhvdFN0YXR1cztcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XG4gXHRcdFx0fSxcbiBcdFx0XHRhZGRTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xuIFx0XHRcdH0sXG4gXHRcdFx0cmVtb3ZlU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdFN0YXR1c0hhbmRsZXJzLmluZGV4T2YobCk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIGhvdFN0YXR1c0hhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdH0sXG5cbiBcdFx0XHQvL2luaGVyaXQgZnJvbSBwcmV2aW91cyBkaXNwb3NlIGNhbGxcbiBcdFx0XHRkYXRhOiBob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF1cbiBcdFx0fTtcbiBcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gdW5kZWZpbmVkO1xuIFx0XHRyZXR1cm4gaG90O1xuIFx0fVxuXG4gXHR2YXIgaG90U3RhdHVzSGFuZGxlcnMgPSBbXTtcbiBcdHZhciBob3RTdGF0dXMgPSBcImlkbGVcIjtcblxuIFx0ZnVuY3Rpb24gaG90U2V0U3RhdHVzKG5ld1N0YXR1cykge1xuIFx0XHRob3RTdGF0dXMgPSBuZXdTdGF0dXM7XG4gXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgaG90U3RhdHVzSGFuZGxlcnMubGVuZ3RoOyBpKyspXG4gXHRcdFx0aG90U3RhdHVzSGFuZGxlcnNbaV0uY2FsbChudWxsLCBuZXdTdGF0dXMpO1xuIFx0fVxuXG4gXHQvLyB3aGlsZSBkb3dubG9hZGluZ1xuIFx0dmFyIGhvdFdhaXRpbmdGaWxlcyA9IDA7XG4gXHR2YXIgaG90Q2h1bmtzTG9hZGluZyA9IDA7XG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzTWFwID0ge307XG4gXHR2YXIgaG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcbiBcdHZhciBob3RBdmFpbGFibGVGaWxlc01hcCA9IHt9O1xuIFx0dmFyIGhvdERlZmVycmVkO1xuXG4gXHQvLyBUaGUgdXBkYXRlIGluZm9cbiBcdHZhciBob3RVcGRhdGUsIGhvdFVwZGF0ZU5ld0hhc2g7XG5cbiBcdGZ1bmN0aW9uIHRvTW9kdWxlSWQoaWQpIHtcbiBcdFx0dmFyIGlzTnVtYmVyID0gK2lkICsgXCJcIiA9PT0gaWQ7XG4gXHRcdHJldHVybiBpc051bWJlciA/ICtpZCA6IGlkO1xuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RDaGVjayhhcHBseSkge1xuIFx0XHRpZiAoaG90U3RhdHVzICE9PSBcImlkbGVcIikge1xuIFx0XHRcdHRocm93IG5ldyBFcnJvcihcImNoZWNrKCkgaXMgb25seSBhbGxvd2VkIGluIGlkbGUgc3RhdHVzXCIpO1xuIFx0XHR9XG4gXHRcdGhvdEFwcGx5T25VcGRhdGUgPSBhcHBseTtcbiBcdFx0aG90U2V0U3RhdHVzKFwiY2hlY2tcIik7XG4gXHRcdHJldHVybiBob3REb3dubG9hZE1hbmlmZXN0KGhvdFJlcXVlc3RUaW1lb3V0KS50aGVuKGZ1bmN0aW9uKHVwZGF0ZSkge1xuIFx0XHRcdGlmICghdXBkYXRlKSB7XG4gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xuIFx0XHRcdFx0cmV0dXJuIG51bGw7XG4gXHRcdFx0fVxuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwID0ge307XG4gXHRcdFx0aG90QXZhaWxhYmxlRmlsZXNNYXAgPSB1cGRhdGUuYztcbiBcdFx0XHRob3RVcGRhdGVOZXdIYXNoID0gdXBkYXRlLmg7XG5cbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xuIFx0XHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0XHRob3REZWZlcnJlZCA9IHtcbiBcdFx0XHRcdFx0cmVzb2x2ZTogcmVzb2x2ZSxcbiBcdFx0XHRcdFx0cmVqZWN0OiByZWplY3RcbiBcdFx0XHRcdH07XG4gXHRcdFx0fSk7XG4gXHRcdFx0aG90VXBkYXRlID0ge307XG4gXHRcdFx0dmFyIGNodW5rSWQgPSAxO1xuIFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1sb25lLWJsb2Nrc1xuIFx0XHRcdHtcbiBcdFx0XHRcdC8qZ2xvYmFscyBjaHVua0lkICovXG4gXHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0aG90U3RhdHVzID09PSBcInByZXBhcmVcIiAmJlxuIFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJlxuIFx0XHRcdFx0aG90V2FpdGluZ0ZpbGVzID09PSAwXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XG4gXHRcdFx0fVxuIFx0XHRcdHJldHVybiBwcm9taXNlO1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcykge1xuIFx0XHRpZiAoIWhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdIHx8ICFob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSlcbiBcdFx0XHRyZXR1cm47XG4gXHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gZmFsc2U7XG4gXHRcdGZvciAodmFyIG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRob3RVcGRhdGVbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZiAoLS1ob3RXYWl0aW5nRmlsZXMgPT09IDAgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCkge1xuIFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcbiBcdFx0fVxuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKSB7XG4gXHRcdGlmICghaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0pIHtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xuIFx0XHR9IGVsc2Uge1xuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXMrKztcbiBcdFx0XHRob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdFVwZGF0ZURvd25sb2FkZWQoKSB7XG4gXHRcdGhvdFNldFN0YXR1cyhcInJlYWR5XCIpO1xuIFx0XHR2YXIgZGVmZXJyZWQgPSBob3REZWZlcnJlZDtcbiBcdFx0aG90RGVmZXJyZWQgPSBudWxsO1xuIFx0XHRpZiAoIWRlZmVycmVkKSByZXR1cm47XG4gXHRcdGlmIChob3RBcHBseU9uVXBkYXRlKSB7XG4gXHRcdFx0Ly8gV3JhcCBkZWZlcnJlZCBvYmplY3QgaW4gUHJvbWlzZSB0byBtYXJrIGl0IGFzIGEgd2VsbC1oYW5kbGVkIFByb21pc2UgdG9cbiBcdFx0XHQvLyBhdm9pZCB0cmlnZ2VyaW5nIHVuY2F1Z2h0IGV4Y2VwdGlvbiB3YXJuaW5nIGluIENocm9tZS5cbiBcdFx0XHQvLyBTZWUgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDY1NjY2XG4gXHRcdFx0UHJvbWlzZS5yZXNvbHZlKClcbiBcdFx0XHRcdC50aGVuKGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0XHRyZXR1cm4gaG90QXBwbHkoaG90QXBwbHlPblVwZGF0ZSk7XG4gXHRcdFx0XHR9KVxuIFx0XHRcdFx0LnRoZW4oXG4gXHRcdFx0XHRcdGZ1bmN0aW9uKHJlc3VsdCkge1xuIFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcbiBcdFx0XHRcdFx0fSxcbiBcdFx0XHRcdFx0ZnVuY3Rpb24oZXJyKSB7XG4gXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KGVycik7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdCk7XG4gXHRcdH0gZWxzZSB7XG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xuIFx0XHRcdGZvciAodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xuIFx0XHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xuIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaCh0b01vZHVsZUlkKGlkKSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHRcdGRlZmVycmVkLnJlc29sdmUob3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0fVxuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RBcHBseShvcHRpb25zKSB7XG4gXHRcdGlmIChob3RTdGF0dXMgIT09IFwicmVhZHlcIilcbiBcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJhcHBseSgpIGlzIG9ubHkgYWxsb3dlZCBpbiByZWFkeSBzdGF0dXNcIik7XG4gXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gXHRcdHZhciBjYjtcbiBcdFx0dmFyIGk7XG4gXHRcdHZhciBqO1xuIFx0XHR2YXIgbW9kdWxlO1xuIFx0XHR2YXIgbW9kdWxlSWQ7XG5cbiBcdFx0ZnVuY3Rpb24gZ2V0QWZmZWN0ZWRTdHVmZih1cGRhdGVNb2R1bGVJZCkge1xuIFx0XHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbdXBkYXRlTW9kdWxlSWRdO1xuIFx0XHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xuXG4gXHRcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLm1hcChmdW5jdGlvbihpZCkge1xuIFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0Y2hhaW46IFtpZF0sXG4gXHRcdFx0XHRcdGlkOiBpZFxuIFx0XHRcdFx0fTtcbiBcdFx0XHR9KTtcbiBcdFx0XHR3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuIFx0XHRcdFx0dmFyIHF1ZXVlSXRlbSA9IHF1ZXVlLnBvcCgpO1xuIFx0XHRcdFx0dmFyIG1vZHVsZUlkID0gcXVldWVJdGVtLmlkO1xuIFx0XHRcdFx0dmFyIGNoYWluID0gcXVldWVJdGVtLmNoYWluO1xuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRpZiAoIW1vZHVsZSB8fCBtb2R1bGUuaG90Ll9zZWxmQWNjZXB0ZWQpIGNvbnRpbnVlO1xuIFx0XHRcdFx0aWYgKG1vZHVsZS5ob3QuX3NlbGZEZWNsaW5lZCkge1xuIFx0XHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1kZWNsaW5lZFwiLFxuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbixcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWRcbiBcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChtb2R1bGUuaG90Ll9tYWluKSB7XG4gXHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0dHlwZTogXCJ1bmFjY2VwdGVkXCIsXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxuIFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtb2R1bGUucGFyZW50cy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0XHR2YXIgcGFyZW50SWQgPSBtb2R1bGUucGFyZW50c1tpXTtcbiBcdFx0XHRcdFx0dmFyIHBhcmVudCA9IGluc3RhbGxlZE1vZHVsZXNbcGFyZW50SWRdO1xuIFx0XHRcdFx0XHRpZiAoIXBhcmVudCkgY29udGludWU7XG4gXHRcdFx0XHRcdGlmIChwYXJlbnQuaG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJkZWNsaW5lZFwiLFxuIFx0XHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLmNvbmNhdChbcGFyZW50SWRdKSxcbiBcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdHBhcmVudElkOiBwYXJlbnRJZFxuIFx0XHRcdFx0XHRcdH07XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKG91dGRhdGVkTW9kdWxlcy5pbmRleE9mKHBhcmVudElkKSAhPT0gLTEpIGNvbnRpbnVlO1xuIFx0XHRcdFx0XHRpZiAocGFyZW50LmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0XHRcdFx0aWYgKCFvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0pXG4gXHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0gPSBbXTtcbiBcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0sIFttb2R1bGVJZF0pO1xuIFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF07XG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHBhcmVudElkKTtcbiBcdFx0XHRcdFx0cXVldWUucHVzaCh7XG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLmNvbmNhdChbcGFyZW50SWRdKSxcbiBcdFx0XHRcdFx0XHRpZDogcGFyZW50SWRcbiBcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuXG4gXHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdHR5cGU6IFwiYWNjZXB0ZWRcIixcbiBcdFx0XHRcdG1vZHVsZUlkOiB1cGRhdGVNb2R1bGVJZCxcbiBcdFx0XHRcdG91dGRhdGVkTW9kdWxlczogb3V0ZGF0ZWRNb2R1bGVzLFxuIFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXM6IG91dGRhdGVkRGVwZW5kZW5jaWVzXG4gXHRcdFx0fTtcbiBcdFx0fVxuXG4gXHRcdGZ1bmN0aW9uIGFkZEFsbFRvU2V0KGEsIGIpIHtcbiBcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGIubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdHZhciBpdGVtID0gYltpXTtcbiBcdFx0XHRcdGlmIChhLmluZGV4T2YoaXRlbSkgPT09IC0xKSBhLnB1c2goaXRlbSk7XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gYXQgYmVnaW4gYWxsIHVwZGF0ZXMgbW9kdWxlcyBhcmUgb3V0ZGF0ZWRcbiBcdFx0Ly8gdGhlIFwib3V0ZGF0ZWRcIiBzdGF0dXMgY2FuIHByb3BhZ2F0ZSB0byBwYXJlbnRzIGlmIHRoZXkgZG9uJ3QgYWNjZXB0IHRoZSBjaGlsZHJlblxuIFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcbiBcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xuIFx0XHR2YXIgYXBwbGllZFVwZGF0ZSA9IHt9O1xuXG4gXHRcdHZhciB3YXJuVW5leHBlY3RlZFJlcXVpcmUgPSBmdW5jdGlvbiB3YXJuVW5leHBlY3RlZFJlcXVpcmUoKSB7XG4gXHRcdFx0Y29uc29sZS53YXJuKFxuIFx0XHRcdFx0XCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgKyByZXN1bHQubW9kdWxlSWQgKyBcIikgdG8gZGlzcG9zZWQgbW9kdWxlXCJcbiBcdFx0XHQpO1xuIFx0XHR9O1xuXG4gXHRcdGZvciAodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xuIFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaG90VXBkYXRlLCBpZCkpIHtcbiBcdFx0XHRcdG1vZHVsZUlkID0gdG9Nb2R1bGVJZChpZCk7XG4gXHRcdFx0XHQvKiogQHR5cGUge1RPRE99ICovXG4gXHRcdFx0XHR2YXIgcmVzdWx0O1xuIFx0XHRcdFx0aWYgKGhvdFVwZGF0ZVtpZF0pIHtcbiBcdFx0XHRcdFx0cmVzdWx0ID0gZ2V0QWZmZWN0ZWRTdHVmZihtb2R1bGVJZCk7XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHRyZXN1bHQgPSB7XG4gXHRcdFx0XHRcdFx0dHlwZTogXCJkaXNwb3NlZFwiLFxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBpZFxuIFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0LyoqIEB0eXBlIHtFcnJvcnxmYWxzZX0gKi9cbiBcdFx0XHRcdHZhciBhYm9ydEVycm9yID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgZG9BcHBseSA9IGZhbHNlO1xuIFx0XHRcdFx0dmFyIGRvRGlzcG9zZSA9IGZhbHNlO1xuIFx0XHRcdFx0dmFyIGNoYWluSW5mbyA9IFwiXCI7XG4gXHRcdFx0XHRpZiAocmVzdWx0LmNoYWluKSB7XG4gXHRcdFx0XHRcdGNoYWluSW5mbyA9IFwiXFxuVXBkYXRlIHByb3BhZ2F0aW9uOiBcIiArIHJlc3VsdC5jaGFpbi5qb2luKFwiIC0+IFwiKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdHN3aXRjaCAocmVzdWx0LnR5cGUpIHtcbiBcdFx0XHRcdFx0Y2FzZSBcInNlbGYtZGVjbGluZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRlY2xpbmVkKSBvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuIFx0XHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBvZiBzZWxmIGRlY2xpbmU6IFwiICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQubW9kdWxlSWQgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdGNoYWluSW5mb1xuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImRlY2xpbmVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EZWNsaW5lZCkgb3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZURlY2xpbmVkKVxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcbiBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2Ugb2YgZGVjbGluZWQgZGVwZW5kZW5jeTogXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5tb2R1bGVJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0XCIgaW4gXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5wYXJlbnRJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0Y2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwidW5hY2NlcHRlZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uVW5hY2NlcHRlZCkgb3B0aW9ucy5vblVuYWNjZXB0ZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlVW5hY2NlcHRlZClcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIFwiICsgbW9kdWxlSWQgKyBcIiBpcyBub3QgYWNjZXB0ZWRcIiArIGNoYWluSW5mb1xuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImFjY2VwdGVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25BY2NlcHRlZCkgb3B0aW9ucy5vbkFjY2VwdGVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0ZG9BcHBseSA9IHRydWU7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJkaXNwb3NlZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGlzcG9zZWQpIG9wdGlvbnMub25EaXNwb3NlZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGRvRGlzcG9zZSA9IHRydWU7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGRlZmF1bHQ6XG4gXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiVW5leGNlcHRpb24gdHlwZSBcIiArIHJlc3VsdC50eXBlKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChhYm9ydEVycm9yKSB7XG4gXHRcdFx0XHRcdGhvdFNldFN0YXR1cyhcImFib3J0XCIpO1xuIFx0XHRcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoYWJvcnRFcnJvcik7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoZG9BcHBseSkge1xuIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IGhvdFVwZGF0ZVttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgcmVzdWx0Lm91dGRhdGVkTW9kdWxlcyk7XG4gXHRcdFx0XHRcdGZvciAobW9kdWxlSWQgaW4gcmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG4gXHRcdFx0XHRcdFx0aWYgKFxuIFx0XHRcdFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFxuIFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMsXG4gXHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkXG4gXHRcdFx0XHRcdFx0XHQpXG4gXHRcdFx0XHRcdFx0KSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAoIW91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSlcbiBcdFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdID0gW107XG4gXHRcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChcbiBcdFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdLFxuIFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKGRvRGlzcG9zZSkge1xuIFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIFtyZXN1bHQubW9kdWxlSWRdKTtcbiBcdFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSB3YXJuVW5leHBlY3RlZFJlcXVpcmU7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gU3RvcmUgc2VsZiBhY2NlcHRlZCBvdXRkYXRlZCBtb2R1bGVzIHRvIHJlcXVpcmUgdGhlbSBsYXRlciBieSB0aGUgbW9kdWxlIHN5c3RlbVxuIFx0XHR2YXIgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzID0gW107XG4gXHRcdGZvciAoaSA9IDA7IGkgPCBvdXRkYXRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRtb2R1bGVJZCA9IG91dGRhdGVkTW9kdWxlc1tpXTtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSAmJlxuIFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWQgJiZcbiBcdFx0XHRcdC8vIHJlbW92ZWQgc2VsZi1hY2NlcHRlZCBtb2R1bGVzIHNob3VsZCBub3QgYmUgcmVxdWlyZWRcbiBcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdICE9PSB3YXJuVW5leHBlY3RlZFJlcXVpcmVcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5wdXNoKHtcbiBcdFx0XHRcdFx0bW9kdWxlOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxuIFx0XHRcdFx0fSk7XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gTm93IGluIFwiZGlzcG9zZVwiIHBoYXNlXG4gXHRcdGhvdFNldFN0YXR1cyhcImRpc3Bvc2VcIik7XG4gXHRcdE9iamVjdC5rZXlzKGhvdEF2YWlsYWJsZUZpbGVzTWFwKS5mb3JFYWNoKGZ1bmN0aW9uKGNodW5rSWQpIHtcbiBcdFx0XHRpZiAoaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gPT09IGZhbHNlKSB7XG4gXHRcdFx0XHRob3REaXNwb3NlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdFx0fVxuIFx0XHR9KTtcblxuIFx0XHR2YXIgaWR4O1xuIFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKTtcbiBcdFx0d2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiBcdFx0XHRtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xuIFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdGlmICghbW9kdWxlKSBjb250aW51ZTtcblxuIFx0XHRcdHZhciBkYXRhID0ge307XG5cbiBcdFx0XHQvLyBDYWxsIGRpc3Bvc2UgaGFuZGxlcnNcbiBcdFx0XHR2YXIgZGlzcG9zZUhhbmRsZXJzID0gbW9kdWxlLmhvdC5fZGlzcG9zZUhhbmRsZXJzO1xuIFx0XHRcdGZvciAoaiA9IDA7IGogPCBkaXNwb3NlSGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdGNiID0gZGlzcG9zZUhhbmRsZXJzW2pdO1xuIFx0XHRcdFx0Y2IoZGF0YSk7XG4gXHRcdFx0fVxuIFx0XHRcdGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXSA9IGRhdGE7XG5cbiBcdFx0XHQvLyBkaXNhYmxlIG1vZHVsZSAodGhpcyBkaXNhYmxlcyByZXF1aXJlcyBmcm9tIHRoaXMgbW9kdWxlKVxuIFx0XHRcdG1vZHVsZS5ob3QuYWN0aXZlID0gZmFsc2U7XG5cbiBcdFx0XHQvLyByZW1vdmUgbW9kdWxlIGZyb20gY2FjaGVcbiBcdFx0XHRkZWxldGUgaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG5cbiBcdFx0XHQvLyB3aGVuIGRpc3Bvc2luZyB0aGVyZSBpcyBubyBuZWVkIHRvIGNhbGwgZGlzcG9zZSBoYW5kbGVyXG4gXHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcblxuIFx0XHRcdC8vIHJlbW92ZSBcInBhcmVudHNcIiByZWZlcmVuY2VzIGZyb20gYWxsIGNoaWxkcmVuXG4gXHRcdFx0Zm9yIChqID0gMDsgaiA8IG1vZHVsZS5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0dmFyIGNoaWxkID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGUuY2hpbGRyZW5bal1dO1xuIFx0XHRcdFx0aWYgKCFjaGlsZCkgY29udGludWU7XG4gXHRcdFx0XHRpZHggPSBjaGlsZC5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpO1xuIFx0XHRcdFx0aWYgKGlkeCA+PSAwKSB7XG4gXHRcdFx0XHRcdGNoaWxkLnBhcmVudHMuc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gcmVtb3ZlIG91dGRhdGVkIGRlcGVuZGVuY3kgZnJvbSBtb2R1bGUgY2hpbGRyZW5cbiBcdFx0dmFyIGRlcGVuZGVuY3k7XG4gXHRcdHZhciBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcztcbiBcdFx0Zm9yIChtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdGlmIChtb2R1bGUpIHtcbiBcdFx0XHRcdFx0bW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGZvciAoaiA9IDA7IGogPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tqXTtcbiBcdFx0XHRcdFx0XHRpZHggPSBtb2R1bGUuY2hpbGRyZW4uaW5kZXhPZihkZXBlbmRlbmN5KTtcbiBcdFx0XHRcdFx0XHRpZiAoaWR4ID49IDApIG1vZHVsZS5jaGlsZHJlbi5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIE5vdyBpbiBcImFwcGx5XCIgcGhhc2VcbiBcdFx0aG90U2V0U3RhdHVzKFwiYXBwbHlcIik7XG5cbiBcdFx0aG90Q3VycmVudEhhc2ggPSBob3RVcGRhdGVOZXdIYXNoO1xuXG4gXHRcdC8vIGluc2VydCBuZXcgY29kZVxuIFx0XHRmb3IgKG1vZHVsZUlkIGluIGFwcGxpZWRVcGRhdGUpIHtcbiBcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFwcGxpZWRVcGRhdGUsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBhcHBsaWVkVXBkYXRlW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBjYWxsIGFjY2VwdCBoYW5kbGVyc1xuIFx0XHR2YXIgZXJyb3IgPSBudWxsO1xuIFx0XHRmb3IgKG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZClcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKG1vZHVsZSkge1xuIFx0XHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0dmFyIGNhbGxiYWNrcyA9IFtdO1xuIFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbaV07XG4gXHRcdFx0XHRcdFx0Y2IgPSBtb2R1bGUuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBlbmRlbmN5XTtcbiBcdFx0XHRcdFx0XHRpZiAoY2IpIHtcbiBcdFx0XHRcdFx0XHRcdGlmIChjYWxsYmFja3MuaW5kZXhPZihjYikgIT09IC0xKSBjb250aW51ZTtcbiBcdFx0XHRcdFx0XHRcdGNhbGxiYWNrcy5wdXNoKGNiKTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0XHRcdGNiID0gY2FsbGJhY2tzW2ldO1xuIFx0XHRcdFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRcdFx0XHRjYihtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyk7XG4gXHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwiYWNjZXB0LWVycm9yZWRcIixcbiBcdFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRcdFx0ZGVwZW5kZW5jeUlkOiBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXSxcbiBcdFx0XHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyXG4gXHRcdFx0XHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gXHRcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gTG9hZCBzZWxmIGFjY2VwdGVkIG1vZHVsZXNcbiBcdFx0Zm9yIChpID0gMDsgaSA8IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdHZhciBpdGVtID0gb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzW2ldO1xuIFx0XHRcdG1vZHVsZUlkID0gaXRlbS5tb2R1bGU7XG4gXHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xuIFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKTtcbiBcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdGlmICh0eXBlb2YgaXRlbS5lcnJvckhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xuIFx0XHRcdFx0XHR0cnkge1xuIFx0XHRcdFx0XHRcdGl0ZW0uZXJyb3JIYW5kbGVyKGVycik7XG4gXHRcdFx0XHRcdH0gY2F0Y2ggKGVycjIpIHtcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcbiBcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvci1oYW5kbGVyLWVycm9yZWRcIixcbiBcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyMixcbiBcdFx0XHRcdFx0XHRcdFx0b3JpZ2luYWxFcnJvcjogZXJyXG4gXHRcdFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyMjtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcbiBcdFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1hY2NlcHQtZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVyclxuIFx0XHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBoYW5kbGUgZXJyb3JzIGluIGFjY2VwdCBoYW5kbGVycyBhbmQgc2VsZiBhY2NlcHRlZCBtb2R1bGUgbG9hZFxuIFx0XHRpZiAoZXJyb3IpIHtcbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJmYWlsXCIpO1xuIFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gXHRcdH1cblxuIFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xuIFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuIFx0XHRcdHJlc29sdmUob3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0fSk7XG4gXHR9XG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGhvdDogaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSxcbiBcdFx0XHRwYXJlbnRzOiAoaG90Q3VycmVudFBhcmVudHNUZW1wID0gaG90Q3VycmVudFBhcmVudHMsIGhvdEN1cnJlbnRQYXJlbnRzID0gW10sIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCksXG4gXHRcdFx0Y2hpbGRyZW46IFtdXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9hc3NldHMvXCI7XG5cbiBcdC8vIF9fd2VicGFja19oYXNoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18uaCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaG90Q3VycmVudEhhc2g7IH07XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gaG90Q3JlYXRlUmVxdWlyZSgxMTM0KShfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMTM0KTtcbiIsImltcG9ydCB7IENyb3NzU3RvcmFnZUh1YiB9IGZyb20gJ2Nyb3NzLXN0b3JhZ2UnO1xuaW1wb3J0IGNvbmZpZyBmcm9tICdjb25maWcnO1xuXG5Dcm9zc1N0b3JhZ2VIdWIuaW5pdChjb25maWcuY3Jvc3NTdG9yYWdlUnVsZXMpOyIsIjsoZnVuY3Rpb24ocm9vdCkge1xuICAvKipcbiAgICogQ29uc3RydWN0cyBhIG5ldyBjcm9zcyBzdG9yYWdlIGNsaWVudCBnaXZlbiB0aGUgdXJsIHRvIGEgaHViLiBCeSBkZWZhdWx0LFxuICAgKiBhbiBpZnJhbWUgaXMgY3JlYXRlZCB3aXRoaW4gdGhlIGRvY3VtZW50IGJvZHkgdGhhdCBwb2ludHMgdG8gdGhlIHVybC4gSXRcbiAgICogYWxzbyBhY2NlcHRzIGFuIG9wdGlvbnMgb2JqZWN0LCB3aGljaCBtYXkgaW5jbHVkZSBhIHRpbWVvdXQsIGZyYW1lSWQsIGFuZFxuICAgKiBwcm9taXNlLiBUaGUgdGltZW91dCwgaW4gbWlsbGlzZWNvbmRzLCBpcyBhcHBsaWVkIHRvIGVhY2ggcmVxdWVzdCBhbmRcbiAgICogZGVmYXVsdHMgdG8gNTAwMG1zLiBUaGUgb3B0aW9ucyBvYmplY3QgbWF5IGFsc28gaW5jbHVkZSBhIGZyYW1lSWQsXG4gICAqIGlkZW50aWZ5aW5nIGFuIGV4aXN0aW5nIGZyYW1lIG9uIHdoaWNoIHRvIGluc3RhbGwgaXRzIGxpc3RlbmVycy4gSWYgdGhlXG4gICAqIHByb21pc2Uga2V5IGlzIHN1cHBsaWVkIHRoZSBjb25zdHJ1Y3RvciBmb3IgYSBQcm9taXNlLCB0aGF0IFByb21pc2UgbGlicmFyeVxuICAgKiB3aWxsIGJlIHVzZWQgaW5zdGVhZCBvZiB0aGUgZGVmYXVsdCB3aW5kb3cuUHJvbWlzZS5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogdmFyIHN0b3JhZ2UgPSBuZXcgQ3Jvc3NTdG9yYWdlQ2xpZW50KCdodHRwczovL3N0b3JlLmV4YW1wbGUuY29tL2h1Yi5odG1sJyk7XG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBzdG9yYWdlID0gbmV3IENyb3NzU3RvcmFnZUNsaWVudCgnaHR0cHM6Ly9zdG9yZS5leGFtcGxlLmNvbS9odWIuaHRtbCcsIHtcbiAgICogICB0aW1lb3V0OiA1MDAwLFxuICAgKiAgIGZyYW1lSWQ6ICdzdG9yYWdlRnJhbWUnXG4gICAqIH0pO1xuICAgKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAgICBUaGUgdXJsIHRvIGEgY3Jvc3Mgc3RvcmFnZSBodWJcbiAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzXSBBbiBvcHRpb25hbCBvYmplY3QgY29udGFpbmluZyBhZGRpdGlvbmFsIG9wdGlvbnMsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkaW5nIHRpbWVvdXQsIGZyYW1lSWQsIGFuZCBwcm9taXNlXG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSAgIF9pZCAgICAgICAgQSBVVUlEIHY0IGlkXG4gICAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IF9wcm9taXNlICAgVGhlIFByb21pc2Ugb2JqZWN0IHRvIHVzZVxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gICBfZnJhbWVJZCAgIFRoZSBpZCBvZiB0aGUgaUZyYW1lIHBvaW50aW5nIHRvIHRoZSBodWIgdXJsXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSAgIF9vcmlnaW4gICAgVGhlIGh1YidzIG9yaWdpblxuICAgKiBAcHJvcGVydHkge29iamVjdH0gICBfcmVxdWVzdHMgIE1hcHBpbmcgb2YgcmVxdWVzdCBpZHMgdG8gY2FsbGJhY2tzXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbH0gICAgIF9jb25uZWN0ZWQgV2hldGhlciBvciBub3QgaXQgaGFzIGNvbm5lY3RlZFxuICAgKiBAcHJvcGVydHkge2Jvb2x9ICAgICBfY2xvc2VkICAgIFdoZXRoZXIgb3Igbm90IHRoZSBjbGllbnQgaGFzIGNsb3NlZFxuICAgKiBAcHJvcGVydHkge2ludH0gICAgICBfY291bnQgICAgIE51bWJlciBvZiByZXF1ZXN0cyBzZW50XG4gICAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IF9saXN0ZW5lciAgVGhlIGxpc3RlbmVyIGFkZGVkIHRvIHRoZSB3aW5kb3dcbiAgICogQHByb3BlcnR5IHtXaW5kb3d9ICAgX2h1YiAgICAgICBUaGUgaHViIHdpbmRvd1xuICAgKi9cbiAgZnVuY3Rpb24gQ3Jvc3NTdG9yYWdlQ2xpZW50KHVybCwgb3B0cykge1xuICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gICAgdGhpcy5faWQgICAgICAgID0gQ3Jvc3NTdG9yYWdlQ2xpZW50Ll9nZW5lcmF0ZVVVSUQoKTtcbiAgICB0aGlzLl9wcm9taXNlICAgPSBvcHRzLnByb21pc2UgfHwgUHJvbWlzZTtcbiAgICB0aGlzLl9mcmFtZUlkICAgPSBvcHRzLmZyYW1lSWQgfHwgJ0Nyb3NzU3RvcmFnZUNsaWVudC0nICsgdGhpcy5faWQ7XG4gICAgdGhpcy5fb3JpZ2luICAgID0gQ3Jvc3NTdG9yYWdlQ2xpZW50Ll9nZXRPcmlnaW4odXJsKTtcbiAgICB0aGlzLl9yZXF1ZXN0cyAgPSB7fTtcbiAgICB0aGlzLl9jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9jbG9zZWQgICAgPSBmYWxzZTtcbiAgICB0aGlzLl9jb3VudCAgICAgPSAwO1xuICAgIHRoaXMuX3RpbWVvdXQgICA9IG9wdHMudGltZW91dCB8fCA1MDAwO1xuICAgIHRoaXMuX2xpc3RlbmVyICA9IG51bGw7XG5cbiAgICB0aGlzLl9pbnN0YWxsTGlzdGVuZXIoKTtcblxuICAgIHZhciBmcmFtZTtcbiAgICBpZiAob3B0cy5mcmFtZUlkKSB7XG4gICAgICBmcmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG9wdHMuZnJhbWVJZCk7XG4gICAgfVxuXG4gICAgLy8gSWYgdXNpbmcgYSBwYXNzZWQgaWZyYW1lLCBwb2xsIHRoZSBodWIgZm9yIGEgcmVhZHkgbWVzc2FnZVxuICAgIGlmIChmcmFtZSkge1xuICAgICAgdGhpcy5fcG9sbCgpO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSB0aGUgZnJhbWUgaWYgbm90IGZvdW5kIG9yIHNwZWNpZmllZFxuICAgIGZyYW1lID0gZnJhbWUgfHwgdGhpcy5fY3JlYXRlRnJhbWUodXJsKTtcbiAgICB0aGlzLl9odWIgPSBmcmFtZS5jb250ZW50V2luZG93O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBzdHlsZXMgdG8gYmUgYXBwbGllZCB0byB0aGUgZ2VuZXJhdGVkIGlGcmFtZS4gRGVmaW5lcyBhIHNldCBvZiBwcm9wZXJ0aWVzXG4gICAqIHRoYXQgaGlkZSB0aGUgZWxlbWVudCBieSBwb3NpdGlvbmluZyBpdCBvdXRzaWRlIG9mIHRoZSB2aXNpYmxlIGFyZWEsIGFuZFxuICAgKiBieSBtb2RpZnlpbmcgaXRzIGRpc3BsYXkuXG4gICAqXG4gICAqIEBtZW1iZXIge09iamVjdH1cbiAgICovXG4gIENyb3NzU3RvcmFnZUNsaWVudC5mcmFtZVN0eWxlID0ge1xuICAgIGRpc3BsYXk6ICAnbm9uZScsXG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgdG9wOiAgICAgICctOTk5cHgnLFxuICAgIGxlZnQ6ICAgICAnLTk5OXB4J1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBvcmlnaW4gb2YgYW4gdXJsLCB3aXRoIGNyb3NzIGJyb3dzZXIgc3VwcG9ydC4gQWNjb21tb2RhdGVzXG4gICAqIHRoZSBsYWNrIG9mIGxvY2F0aW9uLm9yaWdpbiBpbiBJRSwgYXMgd2VsbCBhcyB0aGUgZGlzY3JlcGFuY2llcyBpbiB0aGVcbiAgICogaW5jbHVzaW9uIG9mIHRoZSBwb3J0IHdoZW4gdXNpbmcgdGhlIGRlZmF1bHQgcG9ydCBmb3IgYSBwcm90b2NvbCwgZS5nLlxuICAgKiA0NDMgb3ZlciBodHRwcy4gRGVmYXVsdHMgdG8gdGhlIG9yaWdpbiBvZiB3aW5kb3cubG9jYXRpb24gaWYgcGFzc2VkIGFcbiAgICogcmVsYXRpdmUgcGF0aC5cbiAgICpcbiAgICogQHBhcmFtICAge3N0cmluZ30gdXJsIFRoZSB1cmwgdG8gYSBjcm9zcyBzdG9yYWdlIGh1YlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgb3JpZ2luIG9mIHRoZSB1cmxcbiAgICovXG4gIENyb3NzU3RvcmFnZUNsaWVudC5fZ2V0T3JpZ2luID0gZnVuY3Rpb24odXJsKSB7XG4gICAgdmFyIHVyaSwgcHJvdG9jb2wsIG9yaWdpbjtcblxuICAgIHVyaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB1cmkuaHJlZiA9IHVybDtcblxuICAgIGlmICghdXJpLmhvc3QpIHtcbiAgICAgIHVyaSA9IHdpbmRvdy5sb2NhdGlvbjtcbiAgICB9XG5cbiAgICBpZiAoIXVyaS5wcm90b2NvbCB8fCB1cmkucHJvdG9jb2wgPT09ICc6Jykge1xuICAgICAgcHJvdG9jb2wgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2w7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb3RvY29sID0gdXJpLnByb3RvY29sO1xuICAgIH1cblxuICAgIG9yaWdpbiA9IHByb3RvY29sICsgJy8vJyArIHVyaS5ob3N0O1xuICAgIG9yaWdpbiA9IG9yaWdpbi5yZXBsYWNlKC86ODAkfDo0NDMkLywgJycpO1xuXG4gICAgcmV0dXJuIG9yaWdpbjtcbiAgfTtcblxuICAvKipcbiAgICogVVVJRCB2NCBnZW5lcmF0aW9uLCB0YWtlbiBmcm9tOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zL1xuICAgKiAxMDUwMzQvaG93LXRvLWNyZWF0ZS1hLWd1aWQtdXVpZC1pbi1qYXZhc2NyaXB0LzIxMTc1MjMjMjExNzUyM1xuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBBIFVVSUQgdjQgc3RyaW5nXG4gICAqL1xuICBDcm9zc1N0b3JhZ2VDbGllbnQuX2dlbmVyYXRlVVVJRCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uKGMpIHtcbiAgICAgIHZhciByID0gTWF0aC5yYW5kb20oKSAqIDE2fDAsIHYgPSBjID09ICd4JyA/IHIgOiAociYweDN8MHg4KTtcblxuICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIGEgY29ubmVjdGlvbiBoYXMgYmVlbiBlc3RhYmxpc2hlZFxuICAgKiB3aXRoIHRoZSBjcm9zcyBzdG9yYWdlIGh1Yi4gSXRzIHVzZSBpcyByZXF1aXJlZCB0byBhdm9pZCBzZW5kaW5nIGFueVxuICAgKiByZXF1ZXN0cyBwcmlvciB0byBpbml0aWFsaXphdGlvbiBiZWluZyBjb21wbGV0ZS5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIG9uIGNvbm5lY3RcbiAgICovXG4gIENyb3NzU3RvcmFnZUNsaWVudC5wcm90b3R5cGUub25Db25uZWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNsaWVudCA9IHRoaXM7XG5cbiAgICBpZiAodGhpcy5fY29ubmVjdGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9jbG9zZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9wcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0Nyb3NzU3RvcmFnZUNsaWVudCBoYXMgY2xvc2VkJykpO1xuICAgIH1cblxuICAgIC8vIFF1ZXVlIGNvbm5lY3QgcmVxdWVzdHMgZm9yIGNsaWVudCByZS11c2VcbiAgICBpZiAoIXRoaXMuX3JlcXVlc3RzLmNvbm5lY3QpIHtcbiAgICAgIHRoaXMuX3JlcXVlc3RzLmNvbm5lY3QgPSBbXTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IHRoaXMuX3Byb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0Nyb3NzU3RvcmFnZUNsaWVudCBjb3VsZCBub3QgY29ubmVjdCcpKTtcbiAgICAgIH0sIGNsaWVudC5fdGltZW91dCk7XG5cbiAgICAgIGNsaWVudC5fcmVxdWVzdHMuY29ubmVjdC5wdXNoKGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgIGlmIChlcnIpIHJldHVybiByZWplY3QoZXJyKTtcblxuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0cyBhIGtleSB0byB0aGUgc3BlY2lmaWVkIHZhbHVlLiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCBvblxuICAgKiBzdWNjZXNzLCBvciByZWplY3RlZCBpZiBhbnkgZXJyb3JzIHNldHRpbmcgdGhlIGtleSBvY2N1cnJlZCwgb3IgdGhlIHJlcXVlc3RcbiAgICogdGltZWQgb3V0LlxuICAgKlxuICAgKiBAcGFyYW0gICB7c3RyaW5nfSAga2V5ICAgVGhlIGtleSB0byBzZXRcbiAgICogQHBhcmFtICAgeyp9ICAgICAgIHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ25cbiAgICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIHNldHRsZWQgb24gaHViIHJlc3BvbnNlIG9yIHRpbWVvdXRcbiAgICovXG4gIENyb3NzU3RvcmFnZUNsaWVudC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdzZXQnLCB7XG4gICAgICBrZXk6ICAga2V5LFxuICAgICAgdmFsdWU6IHZhbHVlXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFjY2VwdHMgb25lIG9yIG1vcmUga2V5cyBmb3Igd2hpY2ggdG8gcmV0cmlldmUgdGhlaXIgdmFsdWVzLiBSZXR1cm5zIGFcbiAgICogcHJvbWlzZSB0aGF0IGlzIHNldHRsZWQgb24gaHViIHJlc3BvbnNlIG9yIHRpbWVvdXQuIE9uIHN1Y2Nlc3MsIGl0IGlzXG4gICAqIGZ1bGZpbGxlZCB3aXRoIHRoZSB2YWx1ZSBvZiB0aGUga2V5IGlmIG9ubHkgcGFzc2VkIGEgc2luZ2xlIGFyZ3VtZW50LlxuICAgKiBPdGhlcndpc2UgaXQncyByZXNvbHZlZCB3aXRoIGFuIGFycmF5IG9mIHZhbHVlcy4gT24gZmFpbHVyZSwgaXQgaXMgcmVqZWN0ZWRcbiAgICogd2l0aCB0aGUgY29ycmVzcG9uZGluZyBlcnJvciBtZXNzYWdlLlxuICAgKlxuICAgKiBAcGFyYW0gICB7Li4uc3RyaW5nfSBrZXkgVGhlIGtleSB0byByZXRyaWV2ZVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gICBBIHByb21pc2UgdGhhdCBpcyBzZXR0bGVkIG9uIGh1YiByZXNwb25zZSBvciB0aW1lb3V0XG4gICAqL1xuICBDcm9zc1N0b3JhZ2VDbGllbnQucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcblxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdnZXQnLCB7a2V5czogYXJnc30pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBY2NlcHRzIG9uZSBvciBtb3JlIGtleXMgZm9yIGRlbGV0aW9uLiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IGlzIHNldHRsZWQgb25cbiAgICogaHViIHJlc3BvbnNlIG9yIHRpbWVvdXQuXG4gICAqXG4gICAqIEBwYXJhbSAgIHsuLi5zdHJpbmd9IGtleSBUaGUga2V5IHRvIGRlbGV0ZVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gICBBIHByb21pc2UgdGhhdCBpcyBzZXR0bGVkIG9uIGh1YiByZXNwb25zZSBvciB0aW1lb3V0XG4gICAqL1xuICBDcm9zc1N0b3JhZ2VDbGllbnQucHJvdG90eXBlLmRlbCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcblxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KCdkZWwnLCB7a2V5czogYXJnc30pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0LCB3aGVuIHJlc29sdmVkLCBpbmRpY2F0ZXMgdGhhdCBhbGwgbG9jYWxTdG9yYWdlXG4gICAqIGRhdGEgaGFzIGJlZW4gY2xlYXJlZC5cbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIHNldHRsZWQgb24gaHViIHJlc3BvbnNlIG9yIHRpbWVvdXRcbiAgICovXG4gIENyb3NzU3RvcmFnZUNsaWVudC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdCgnY2xlYXInKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCwgd2hlbiByZXNvbHZlZCwgcGFzc2VzIGFuIGFycmF5IG9mIGFsbCBrZXlzXG4gICAqIGN1cnJlbnRseSBpbiBzdG9yYWdlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgaXMgc2V0dGxlZCBvbiBodWIgcmVzcG9uc2Ugb3IgdGltZW91dFxuICAgKi9cbiAgQ3Jvc3NTdG9yYWdlQ2xpZW50LnByb3RvdHlwZS5nZXRLZXlzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3QoJ2dldEtleXMnKTtcbiAgfTtcblxuICAvKipcbiAgICogRGVsZXRlcyB0aGUgaWZyYW1lIGFuZCBzZXRzIHRoZSBjb25uZWN0ZWQgc3RhdGUgdG8gZmFsc2UuIFRoZSBjbGllbnQgY2FuXG4gICAqIG5vIGxvbmdlciBiZSB1c2VkIGFmdGVyIGJlaW5nIGludm9rZWQuXG4gICAqL1xuICBDcm9zc1N0b3JhZ2VDbGllbnQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZyYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5fZnJhbWVJZCk7XG4gICAgaWYgKGZyYW1lKSB7XG4gICAgICBmcmFtZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGZyYW1lKTtcbiAgICB9XG5cbiAgICAvLyBTdXBwb3J0IElFOCB3aXRoIGRldGFjaEV2ZW50XG4gICAgaWYgKHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMuX2xpc3RlbmVyLCBmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5kZXRhY2hFdmVudCgnb25tZXNzYWdlJywgdGhpcy5fbGlzdGVuZXIpO1xuICAgIH1cblxuICAgIHRoaXMuX2Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgIHRoaXMuX2Nsb3NlZCA9IHRydWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEluc3RhbGxzIHRoZSBuZWNlc3NhcnkgbGlzdGVuZXIgZm9yIHRoZSB3aW5kb3cgbWVzc2FnZSBldmVudC4gV2hlbiBhIG1lc3NhZ2VcbiAgICogaXMgcmVjZWl2ZWQsIHRoZSBjbGllbnQncyBfY29ubmVjdGVkIHN0YXR1cyBpcyBjaGFuZ2VkIHRvIHRydWUsIGFuZCB0aGVcbiAgICogb25Db25uZWN0IHByb21pc2UgaXMgZnVsZmlsbGVkLiBHaXZlbiBhIHJlc3BvbnNlIG1lc3NhZ2UsIHRoZSBjYWxsYmFja1xuICAgKiBjb3JyZXNwb25kaW5nIHRvIGl0cyByZXF1ZXN0IGlzIGludm9rZWQuIElmIHJlc3BvbnNlLmVycm9yIGhvbGRzIGEgdHJ1dGh5XG4gICAqIHZhbHVlLCB0aGUgcHJvbWlzZSBhc3NvY2lhdGVkIHdpdGggdGhlIG9yaWdpbmFsIHJlcXVlc3QgaXMgcmVqZWN0ZWQgd2l0aFxuICAgKiB0aGUgZXJyb3IuIE90aGVyd2lzZSB0aGUgcHJvbWlzZSBpcyBmdWxmaWxsZWQgYW5kIHBhc3NlZCByZXNwb25zZS5yZXN1bHQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBDcm9zc1N0b3JhZ2VDbGllbnQucHJvdG90eXBlLl9pbnN0YWxsTGlzdGVuZXIgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgY2xpZW50ID0gdGhpcztcblxuICAgIHRoaXMuX2xpc3RlbmVyID0gZnVuY3Rpb24obWVzc2FnZSkge1xuICAgICAgdmFyIGksIG9yaWdpbiwgZXJyb3IsIHJlc3BvbnNlO1xuXG4gICAgICAvLyBJZ25vcmUgaW52YWxpZCBtZXNzYWdlcyBvciB0aG9zZSBhZnRlciB0aGUgY2xpZW50IGhhcyBjbG9zZWRcbiAgICAgIGlmIChjbGllbnQuX2Nsb3NlZCB8fCAhbWVzc2FnZS5kYXRhIHx8IHR5cGVvZiBtZXNzYWdlLmRhdGEgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gcG9zdE1lc3NhZ2UgcmV0dXJucyB0aGUgc3RyaW5nIFwibnVsbFwiIGFzIHRoZSBvcmlnaW4gZm9yIFwiZmlsZTovL1wiXG4gICAgICBvcmlnaW4gPSAobWVzc2FnZS5vcmlnaW4gPT09ICdudWxsJykgPyAnZmlsZTovLycgOiBtZXNzYWdlLm9yaWdpbjtcblxuICAgICAgLy8gSWdub3JlIG1lc3NhZ2VzIG5vdCBmcm9tIHRoZSBjb3JyZWN0IG9yaWdpblxuICAgICAgaWYgKG9yaWdpbiAhPT0gY2xpZW50Ll9vcmlnaW4pIHJldHVybjtcblxuICAgICAgLy8gTG9jYWxTdG9yYWdlIGlzbid0IGF2YWlsYWJsZSBpbiB0aGUgaHViXG4gICAgICBpZiAobWVzc2FnZS5kYXRhID09PSAnY3Jvc3Mtc3RvcmFnZTp1bmF2YWlsYWJsZScpIHtcbiAgICAgICAgaWYgKCFjbGllbnQuX2Nsb3NlZCkgY2xpZW50LmNsb3NlKCk7XG4gICAgICAgIGlmICghY2xpZW50Ll9yZXF1ZXN0cy5jb25uZWN0KSByZXR1cm47XG5cbiAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoJ0Nsb3NpbmcgY2xpZW50LiBDb3VsZCBub3QgYWNjZXNzIGxvY2FsU3RvcmFnZSBpbiBodWIuJyk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBjbGllbnQuX3JlcXVlc3RzLmNvbm5lY3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjbGllbnQuX3JlcXVlc3RzLmNvbm5lY3RbaV0oZXJyb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBIYW5kbGUgaW5pdGlhbCBjb25uZWN0aW9uXG4gICAgICBpZiAobWVzc2FnZS5kYXRhLmluZGV4T2YoJ2Nyb3NzLXN0b3JhZ2U6JykgIT09IC0xICYmICFjbGllbnQuX2Nvbm5lY3RlZCkge1xuICAgICAgICBjbGllbnQuX2Nvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgIGlmICghY2xpZW50Ll9yZXF1ZXN0cy5jb25uZWN0KSByZXR1cm47XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNsaWVudC5fcmVxdWVzdHMuY29ubmVjdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNsaWVudC5fcmVxdWVzdHMuY29ubmVjdFtpXShlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIGNsaWVudC5fcmVxdWVzdHMuY29ubmVjdDtcbiAgICAgIH1cblxuICAgICAgaWYgKG1lc3NhZ2UuZGF0YSA9PT0gJ2Nyb3NzLXN0b3JhZ2U6cmVhZHknKSByZXR1cm47XG5cbiAgICAgIC8vIEFsbCBvdGhlciBtZXNzYWdlc1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVzcG9uc2UgPSBKU09OLnBhcnNlKG1lc3NhZ2UuZGF0YSk7XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXJlc3BvbnNlLmlkKSByZXR1cm47XG5cbiAgICAgIGlmIChjbGllbnQuX3JlcXVlc3RzW3Jlc3BvbnNlLmlkXSkge1xuICAgICAgICBjbGllbnQuX3JlcXVlc3RzW3Jlc3BvbnNlLmlkXShyZXNwb25zZS5lcnJvciwgcmVzcG9uc2UucmVzdWx0KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gU3VwcG9ydCBJRTggd2l0aCBhdHRhY2hFdmVudFxuICAgIGlmICh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLl9saXN0ZW5lciwgZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aW5kb3cuYXR0YWNoRXZlbnQoJ29ubWVzc2FnZScsIHRoaXMuX2xpc3RlbmVyKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hlbiBhIGZyYW1lIGlkIHdhcyBwYXNzZWQgdG8gdGhlIGNsaWVudCwgcmF0aGVyIHRoYW4gYWxsb3dpbmdcbiAgICogdGhlIGNsaWVudCB0byBjcmVhdGUgaXRzIG93biBpZnJhbWUuIFBvbGxzIHRoZSBodWIgZm9yIGEgcmVhZHkgZXZlbnQgdG9cbiAgICogZXN0YWJsaXNoIGEgY29ubmVjdGVkIHN0YXRlLlxuICAgKi9cbiAgQ3Jvc3NTdG9yYWdlQ2xpZW50LnByb3RvdHlwZS5fcG9sbCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjbGllbnQsIGludGVydmFsLCB0YXJnZXRPcmlnaW47XG5cbiAgICBjbGllbnQgPSB0aGlzO1xuXG4gICAgLy8gcG9zdE1lc3NhZ2UgcmVxdWlyZXMgdGhhdCB0aGUgdGFyZ2V0IG9yaWdpbiBiZSBzZXQgdG8gXCIqXCIgZm9yIFwiZmlsZTovL1wiXG4gICAgdGFyZ2V0T3JpZ2luID0gKGNsaWVudC5fb3JpZ2luID09PSAnZmlsZTovLycpID8gJyonIDogY2xpZW50Ll9vcmlnaW47XG5cbiAgICBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGNsaWVudC5fY29ubmVjdGVkKSByZXR1cm4gY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICBpZiAoIWNsaWVudC5faHViKSByZXR1cm47XG5cbiAgICAgIGNsaWVudC5faHViLnBvc3RNZXNzYWdlKCdjcm9zcy1zdG9yYWdlOnBvbGwnLCB0YXJnZXRPcmlnaW4pO1xuICAgIH0sIDEwMDApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGlGcmFtZSBjb250YWluaW5nIHRoZSBodWIuIEFwcGxpZXMgdGhlIG5lY2Vzc2FyeSBzdHlsZXMgdG9cbiAgICogaGlkZSB0aGUgZWxlbWVudCBmcm9tIHZpZXcsIHByaW9yIHRvIGFkZGluZyBpdCB0byB0aGUgZG9jdW1lbnQgYm9keS5cbiAgICogUmV0dXJucyB0aGUgY3JlYXRlZCBlbGVtZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKlxuICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgICAgICAgICAgdXJsIFRoZSB1cmwgdG8gdGhlIGh1YlxuICAgKiByZXR1cm5zIHtIVE1MSUZyYW1lRWxlbWVudH0gVGhlIGlGcmFtZSBlbGVtZW50IGl0c2VsZlxuICAgKi9cbiAgQ3Jvc3NTdG9yYWdlQ2xpZW50LnByb3RvdHlwZS5fY3JlYXRlRnJhbWUgPSBmdW5jdGlvbih1cmwpIHtcbiAgICB2YXIgZnJhbWUsIGtleTtcblxuICAgIGZyYW1lID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICAgIGZyYW1lLmlkID0gdGhpcy5fZnJhbWVJZDtcblxuICAgIC8vIFN0eWxlIHRoZSBpZnJhbWVcbiAgICBmb3IgKGtleSBpbiBDcm9zc1N0b3JhZ2VDbGllbnQuZnJhbWVTdHlsZSkge1xuICAgICAgaWYgKENyb3NzU3RvcmFnZUNsaWVudC5mcmFtZVN0eWxlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgZnJhbWUuc3R5bGVba2V5XSA9IENyb3NzU3RvcmFnZUNsaWVudC5mcmFtZVN0eWxlW2tleV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgd2luZG93LmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZnJhbWUpO1xuICAgIGZyYW1lLnNyYyA9IHVybDtcblxuICAgIHJldHVybiBmcmFtZTtcbiAgfTtcblxuICAvKipcbiAgICogU2VuZHMgYSBtZXNzYWdlIGNvbnRhaW5pbmcgdGhlIGdpdmVuIG1ldGhvZCBhbmQgcGFyYW1zIHRvIHRoZSBodWIuIFN0b3Jlc1xuICAgKiBhIGNhbGxiYWNrIGluIHRoZSBfcmVxdWVzdHMgb2JqZWN0IGZvciBsYXRlciBpbnZvY2F0aW9uIG9uIG1lc3NhZ2UsIG9yXG4gICAqIGRlbGV0aW9uIG9uIHRpbWVvdXQuIFJldHVybnMgYSBwcm9taXNlIHRoYXQgaXMgc2V0dGxlZCBpbiBlaXRoZXIgaW5zdGFuY2UuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqXG4gICAqIEBwYXJhbSAgIHtzdHJpbmd9ICBtZXRob2QgVGhlIG1ldGhvZCB0byBpbnZva2VcbiAgICogQHBhcmFtICAgeyp9ICAgICAgIHBhcmFtcyBUaGUgYXJndW1lbnRzIHRvIHBhc3NcbiAgICogQHJldHVybnMge1Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIHNldHRsZWQgb24gaHViIHJlc3BvbnNlIG9yIHRpbWVvdXRcbiAgICovXG4gIENyb3NzU3RvcmFnZUNsaWVudC5wcm90b3R5cGUuX3JlcXVlc3QgPSBmdW5jdGlvbihtZXRob2QsIHBhcmFtcykge1xuICAgIHZhciByZXEsIGNsaWVudDtcblxuICAgIGlmICh0aGlzLl9jbG9zZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9wcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0Nyb3NzU3RvcmFnZUNsaWVudCBoYXMgY2xvc2VkJykpO1xuICAgIH1cblxuICAgIGNsaWVudCA9IHRoaXM7XG4gICAgY2xpZW50Ll9jb3VudCsrO1xuXG4gICAgcmVxID0ge1xuICAgICAgaWQ6ICAgICB0aGlzLl9pZCArICc6JyArIGNsaWVudC5fY291bnQsXG4gICAgICBtZXRob2Q6ICdjcm9zcy1zdG9yYWdlOicgKyBtZXRob2QsXG4gICAgICBwYXJhbXM6IHBhcmFtc1xuICAgIH07XG5cbiAgICByZXR1cm4gbmV3IHRoaXMuX3Byb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgdGltZW91dCwgb3JpZ2luYWxUb0pTT04sIHRhcmdldE9yaWdpbjtcblxuICAgICAgLy8gVGltZW91dCBpZiBhIHJlc3BvbnNlIGlzbid0IHJlY2VpdmVkIGFmdGVyIDRzXG4gICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFjbGllbnQuX3JlcXVlc3RzW3JlcS5pZF0pIHJldHVybjtcblxuICAgICAgICBkZWxldGUgY2xpZW50Ll9yZXF1ZXN0c1tyZXEuaWRdO1xuICAgICAgICByZWplY3QobmV3IEVycm9yKCdUaW1lb3V0OiBjb3VsZCBub3QgcGVyZm9ybSAnICsgcmVxLm1ldGhvZCkpO1xuICAgICAgfSwgY2xpZW50Ll90aW1lb3V0KTtcblxuICAgICAgLy8gQWRkIHJlcXVlc3QgY2FsbGJhY2tcbiAgICAgIGNsaWVudC5fcmVxdWVzdHNbcmVxLmlkXSA9IGZ1bmN0aW9uKGVyciwgcmVzdWx0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgZGVsZXRlIGNsaWVudC5fcmVxdWVzdHNbcmVxLmlkXTtcbiAgICAgICAgaWYgKGVycikgcmV0dXJuIHJlamVjdChuZXcgRXJyb3IoZXJyKSk7XG4gICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgIH07XG5cbiAgICAgIC8vIEluIGNhc2Ugd2UgaGF2ZSBhIGJyb2tlbiBBcnJheS5wcm90b3R5cGUudG9KU09OLCBlLmcuIGJlY2F1c2Ugb2ZcbiAgICAgIC8vIG9sZCB2ZXJzaW9ucyBvZiBwcm90b3R5cGVcbiAgICAgIGlmIChBcnJheS5wcm90b3R5cGUudG9KU09OKSB7XG4gICAgICAgIG9yaWdpbmFsVG9KU09OID0gQXJyYXkucHJvdG90eXBlLnRvSlNPTjtcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLnRvSlNPTiA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIHBvc3RNZXNzYWdlIHJlcXVpcmVzIHRoYXQgdGhlIHRhcmdldCBvcmlnaW4gYmUgc2V0IHRvIFwiKlwiIGZvciBcImZpbGU6Ly9cIlxuICAgICAgdGFyZ2V0T3JpZ2luID0gKGNsaWVudC5fb3JpZ2luID09PSAnZmlsZTovLycpID8gJyonIDogY2xpZW50Ll9vcmlnaW47XG5cbiAgICAgIC8vIFNlbmQgc2VyaWFsaXplZCBtZXNzYWdlXG4gICAgICBjbGllbnQuX2h1Yi5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeShyZXEpLCB0YXJnZXRPcmlnaW4pO1xuXG4gICAgICAvLyBSZXN0b3JlIG9yaWdpbmFsIHRvSlNPTlxuICAgICAgaWYgKG9yaWdpbmFsVG9KU09OKSB7XG4gICAgICAgIEFycmF5LnByb3RvdHlwZS50b0pTT04gPSBvcmlnaW5hbFRvSlNPTjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogRXhwb3J0IGZvciB2YXJpb3VzIGVudmlyb25tZW50cy5cbiAgICovXG4gIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gQ3Jvc3NTdG9yYWdlQ2xpZW50O1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xuICAgIGV4cG9ydHMuQ3Jvc3NTdG9yYWdlQ2xpZW50ID0gQ3Jvc3NTdG9yYWdlQ2xpZW50O1xuICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gQ3Jvc3NTdG9yYWdlQ2xpZW50O1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJvb3QuQ3Jvc3NTdG9yYWdlQ2xpZW50ID0gQ3Jvc3NTdG9yYWdlQ2xpZW50O1xuICB9XG59KHRoaXMpKTtcbiIsIjsoZnVuY3Rpb24ocm9vdCkge1xuICB2YXIgQ3Jvc3NTdG9yYWdlSHViID0ge307XG5cbiAgLyoqXG4gICAqIEFjY2VwdHMgYW4gYXJyYXkgb2Ygb2JqZWN0cyB3aXRoIHR3byBrZXlzOiBvcmlnaW4gYW5kIGFsbG93LiBUaGUgdmFsdWVcbiAgICogb2Ygb3JpZ2luIGlzIGV4cGVjdGVkIHRvIGJlIGEgUmVnRXhwLCBhbmQgYWxsb3csIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gICAqIFRoZSBjcm9zcyBzdG9yYWdlIGh1YiBpcyB0aGVuIGluaXRpYWxpemVkIHRvIGFjY2VwdCByZXF1ZXN0cyBmcm9tIGFueSBvZlxuICAgKiB0aGUgbWF0Y2hpbmcgb3JpZ2lucywgYWxsb3dpbmcgYWNjZXNzIHRvIHRoZSBhc3NvY2lhdGVkIGxpc3RzIG9mIG1ldGhvZHMuXG4gICAqIE1ldGhvZHMgbWF5IGluY2x1ZGUgYW55IG9mOiBnZXQsIHNldCwgZGVsLCBnZXRLZXlzIGFuZCBjbGVhci4gQSAncmVhZHknXG4gICAqIG1lc3NhZ2UgaXMgc2VudCB0byB0aGUgcGFyZW50IHdpbmRvdyBvbmNlIGNvbXBsZXRlLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiAvLyBTdWJkb21haW4gY2FuIGdldCwgYnV0IG9ubHkgcm9vdCBkb21haW4gY2FuIHNldCBhbmQgZGVsXG4gICAqIENyb3NzU3RvcmFnZUh1Yi5pbml0KFtcbiAgICogICB7b3JpZ2luOiAvXFwuZXhhbXBsZS5jb20kLywgICAgICAgIGFsbG93OiBbJ2dldCddfSxcbiAgICogICB7b3JpZ2luOiAvOih3d3dcXC4pP2V4YW1wbGUuY29tJC8sIGFsbG93OiBbJ2dldCcsICdzZXQnLCAnZGVsJ119XG4gICAqIF0pO1xuICAgKlxuICAgKiBAcGFyYW0ge2FycmF5fSBwZXJtaXNzaW9ucyBBbiBhcnJheSBvZiBvYmplY3RzIHdpdGggb3JpZ2luIGFuZCBhbGxvd1xuICAgKi9cbiAgQ3Jvc3NTdG9yYWdlSHViLmluaXQgPSBmdW5jdGlvbihwZXJtaXNzaW9ucykge1xuICAgIHZhciBhdmFpbGFibGUgPSB0cnVlO1xuXG4gICAgLy8gUmV0dXJuIGlmIGxvY2FsU3RvcmFnZSBpcyB1bmF2YWlsYWJsZSwgb3IgdGhpcmQgcGFydHlcbiAgICAvLyBhY2Nlc3MgaXMgZGlzYWJsZWRcbiAgICB0cnkge1xuICAgICAgaWYgKCF3aW5kb3cubG9jYWxTdG9yYWdlKSBhdmFpbGFibGUgPSBmYWxzZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBhdmFpbGFibGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIWF2YWlsYWJsZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5wYXJlbnQucG9zdE1lc3NhZ2UoJ2Nyb3NzLXN0b3JhZ2U6dW5hdmFpbGFibGUnLCAnKicpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgQ3Jvc3NTdG9yYWdlSHViLl9wZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25zIHx8IFtdO1xuICAgIENyb3NzU3RvcmFnZUh1Yi5faW5zdGFsbExpc3RlbmVyKCk7XG4gICAgd2luZG93LnBhcmVudC5wb3N0TWVzc2FnZSgnY3Jvc3Mtc3RvcmFnZTpyZWFkeScsICcqJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEluc3RhbGxzIHRoZSBuZWNlc3NhcnkgbGlzdGVuZXIgZm9yIHRoZSB3aW5kb3cgbWVzc2FnZSBldmVudC4gQWNjb21tb2RhdGVzXG4gICAqIElFOCBhbmQgdXAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBDcm9zc1N0b3JhZ2VIdWIuX2luc3RhbGxMaXN0ZW5lciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsaXN0ZW5lciA9IENyb3NzU3RvcmFnZUh1Yi5fbGlzdGVuZXI7XG4gICAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGxpc3RlbmVyLCBmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5hdHRhY2hFdmVudCgnb25tZXNzYWdlJywgbGlzdGVuZXIpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogVGhlIG1lc3NhZ2UgaGFuZGxlciBmb3IgYWxsIHJlcXVlc3RzIHBvc3RlZCB0byB0aGUgd2luZG93LiBJdCBpZ25vcmVzIGFueVxuICAgKiBtZXNzYWdlcyBoYXZpbmcgYW4gb3JpZ2luIHRoYXQgZG9lcyBub3QgbWF0Y2ggdGhlIG9yaWdpbmFsbHkgc3VwcGxpZWRcbiAgICogcGF0dGVybi4gR2l2ZW4gYSBKU09OIG9iamVjdCB3aXRoIG9uZSBvZiBnZXQsIHNldCwgZGVsIG9yIGdldEtleXMgYXMgdGhlXG4gICAqIG1ldGhvZCwgdGhlIGZ1bmN0aW9uIHBlcmZvcm1zIHRoZSByZXF1ZXN0ZWQgYWN0aW9uIGFuZCByZXR1cm5zIGl0cyByZXN1bHQuXG4gICAqXG4gICAqIEBwYXJhbSB7TWVzc2FnZUV2ZW50fSBtZXNzYWdlIEEgbWVzc2FnZSB0byBiZSBwcm9jZXNzZWRcbiAgICovXG4gIENyb3NzU3RvcmFnZUh1Yi5fbGlzdGVuZXIgPSBmdW5jdGlvbihtZXNzYWdlKSB7XG4gICAgdmFyIG9yaWdpbiwgdGFyZ2V0T3JpZ2luLCByZXF1ZXN0LCBtZXRob2QsIGVycm9yLCByZXN1bHQsIHJlc3BvbnNlO1xuXG4gICAgLy8gcG9zdE1lc3NhZ2UgcmV0dXJucyB0aGUgc3RyaW5nIFwibnVsbFwiIGFzIHRoZSBvcmlnaW4gZm9yIFwiZmlsZTovL1wiXG4gICAgb3JpZ2luID0gKG1lc3NhZ2Uub3JpZ2luID09PSAnbnVsbCcpID8gJ2ZpbGU6Ly8nIDogbWVzc2FnZS5vcmlnaW47XG5cbiAgICAvLyBIYW5kbGUgcG9sbGluZyBmb3IgYSByZWFkeSBtZXNzYWdlXG4gICAgaWYgKG1lc3NhZ2UuZGF0YSA9PT0gJ2Nyb3NzLXN0b3JhZ2U6cG9sbCcpIHtcbiAgICAgIHJldHVybiB3aW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKCdjcm9zcy1zdG9yYWdlOnJlYWR5JywgbWVzc2FnZS5vcmlnaW4pO1xuICAgIH1cblxuICAgIC8vIElnbm9yZSB0aGUgcmVhZHkgbWVzc2FnZSB3aGVuIHZpZXdpbmcgdGhlIGh1YiBkaXJlY3RseVxuICAgIGlmIChtZXNzYWdlLmRhdGEgPT09ICdjcm9zcy1zdG9yYWdlOnJlYWR5JykgcmV0dXJuO1xuXG4gICAgLy8gQ2hlY2sgd2hldGhlciBtZXNzYWdlLmRhdGEgaXMgYSB2YWxpZCBqc29uXG4gICAgdHJ5IHtcbiAgICAgIHJlcXVlc3QgPSBKU09OLnBhcnNlKG1lc3NhZ2UuZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgd2hldGhlciByZXF1ZXN0Lm1ldGhvZCBpcyBhIHN0cmluZ1xuICAgIGlmICghcmVxdWVzdCB8fCB0eXBlb2YgcmVxdWVzdC5tZXRob2QgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbWV0aG9kID0gcmVxdWVzdC5tZXRob2Quc3BsaXQoJ2Nyb3NzLXN0b3JhZ2U6JylbMV07XG5cbiAgICBpZiAoIW1ldGhvZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoIUNyb3NzU3RvcmFnZUh1Yi5fcGVybWl0dGVkKG9yaWdpbiwgbWV0aG9kKSkge1xuICAgICAgZXJyb3IgPSAnSW52YWxpZCBwZXJtaXNzaW9ucyBmb3IgJyArIG1ldGhvZDtcbiAgICB9IGVsc2Uge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVzdWx0ID0gQ3Jvc3NTdG9yYWdlSHViWydfJyArIG1ldGhvZF0ocmVxdWVzdC5wYXJhbXMpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGVycm9yID0gZXJyLm1lc3NhZ2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmVzcG9uc2UgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBpZDogcmVxdWVzdC5pZCxcbiAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgIHJlc3VsdDogcmVzdWx0XG4gICAgfSk7XG5cbiAgICAvLyBwb3N0TWVzc2FnZSByZXF1aXJlcyB0aGF0IHRoZSB0YXJnZXQgb3JpZ2luIGJlIHNldCB0byBcIipcIiBmb3IgXCJmaWxlOi8vXCJcbiAgICB0YXJnZXRPcmlnaW4gPSAob3JpZ2luID09PSAnZmlsZTovLycpID8gJyonIDogb3JpZ2luO1xuXG4gICAgd2luZG93LnBhcmVudC5wb3N0TWVzc2FnZShyZXNwb25zZSwgdGFyZ2V0T3JpZ2luKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyBhIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGUgcmVxdWVzdGVkIG1ldGhvZCBpc1xuICAgKiBwZXJtaXR0ZWQgZm9yIHRoZSBnaXZlbiBvcmlnaW4uIFRoZSBhcmd1bWVudCBwYXNzZWQgdG8gbWV0aG9kIGlzIGV4cGVjdGVkXG4gICAqIHRvIGJlIG9uZSBvZiAnZ2V0JywgJ3NldCcsICdkZWwnIG9yICdnZXRLZXlzJy5cbiAgICpcbiAgICogQHBhcmFtICAge3N0cmluZ30gb3JpZ2luIFRoZSBvcmlnaW4gZm9yIHdoaWNoIHRvIGRldGVybWluZSBwZXJtaXNzaW9uc1xuICAgKiBAcGFyYW0gICB7c3RyaW5nfSBtZXRob2QgUmVxdWVzdGVkIGFjdGlvblxuICAgKiBAcmV0dXJucyB7Ym9vbH0gICBXaGV0aGVyIG9yIG5vdCB0aGUgcmVxdWVzdCBpcyBwZXJtaXR0ZWRcbiAgICovXG4gIENyb3NzU3RvcmFnZUh1Yi5fcGVybWl0dGVkID0gZnVuY3Rpb24ob3JpZ2luLCBtZXRob2QpIHtcbiAgICB2YXIgYXZhaWxhYmxlLCBpLCBlbnRyeSwgbWF0Y2g7XG5cbiAgICBhdmFpbGFibGUgPSBbJ2dldCcsICdzZXQnLCAnZGVsJywgJ2NsZWFyJywgJ2dldEtleXMnXTtcbiAgICBpZiAoIUNyb3NzU3RvcmFnZUh1Yi5faW5BcnJheShtZXRob2QsIGF2YWlsYWJsZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgQ3Jvc3NTdG9yYWdlSHViLl9wZXJtaXNzaW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgZW50cnkgPSBDcm9zc1N0b3JhZ2VIdWIuX3Blcm1pc3Npb25zW2ldO1xuICAgICAgaWYgKCEoZW50cnkub3JpZ2luIGluc3RhbmNlb2YgUmVnRXhwKSB8fCAhKGVudHJ5LmFsbG93IGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBtYXRjaCA9IGVudHJ5Lm9yaWdpbi50ZXN0KG9yaWdpbik7XG4gICAgICBpZiAobWF0Y2ggJiYgQ3Jvc3NTdG9yYWdlSHViLl9pbkFycmF5KG1ldGhvZCwgZW50cnkuYWxsb3cpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0cyBhIGtleSB0byB0aGUgc3BlY2lmaWVkIHZhbHVlLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gcGFyYW1zIEFuIG9iamVjdCB3aXRoIGtleSBhbmQgdmFsdWVcbiAgICovXG4gIENyb3NzU3RvcmFnZUh1Yi5fc2V0ID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHBhcmFtcy5rZXksIHBhcmFtcy52YWx1ZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFjY2VwdHMgYW4gb2JqZWN0IHdpdGggYW4gYXJyYXkgb2Yga2V5cyBmb3Igd2hpY2ggdG8gcmV0cmlldmUgdGhlaXIgdmFsdWVzLlxuICAgKiBSZXR1cm5zIGEgc2luZ2xlIHZhbHVlIGlmIG9ubHkgb25lIGtleSB3YXMgc3VwcGxpZWQsIG90aGVyd2lzZSBpdCByZXR1cm5zXG4gICAqIGFuIGFycmF5LiBBbnkga2V5cyBub3Qgc2V0IHJlc3VsdCBpbiBhIG51bGwgZWxlbWVudCBpbiB0aGUgcmVzdWx0aW5nIGFycmF5LlxuICAgKlxuICAgKiBAcGFyYW0gICB7b2JqZWN0fSBwYXJhbXMgQW4gb2JqZWN0IHdpdGggYW4gYXJyYXkgb2Yga2V5c1xuICAgKiBAcmV0dXJucyB7KnwqW119ICBFaXRoZXIgYSBzaW5nbGUgdmFsdWUsIG9yIGFuIGFycmF5XG4gICAqL1xuICBDcm9zc1N0b3JhZ2VIdWIuX2dldCA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICAgIHZhciBzdG9yYWdlLCByZXN1bHQsIGksIHZhbHVlO1xuXG4gICAgc3RvcmFnZSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2U7XG4gICAgcmVzdWx0ID0gW107XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgcGFyYW1zLmtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhbHVlID0gc3RvcmFnZS5nZXRJdGVtKHBhcmFtcy5rZXlzW2ldKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdmFsdWUgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChyZXN1bHQubGVuZ3RoID4gMSkgPyByZXN1bHQgOiByZXN1bHRbMF07XG4gIH07XG5cbiAgLyoqXG4gICAqIERlbGV0ZXMgYWxsIGtleXMgc3BlY2lmaWVkIGluIHRoZSBhcnJheSBmb3VuZCBhdCBwYXJhbXMua2V5cy5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IHBhcmFtcyBBbiBvYmplY3Qgd2l0aCBhbiBhcnJheSBvZiBrZXlzXG4gICAqL1xuICBDcm9zc1N0b3JhZ2VIdWIuX2RlbCA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyYW1zLmtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShwYXJhbXMua2V5c1tpXSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBDbGVhcnMgbG9jYWxTdG9yYWdlLlxuICAgKi9cbiAgQ3Jvc3NTdG9yYWdlSHViLl9jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UuY2xlYXIoKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyBhbiBhcnJheSBvZiBhbGwga2V5cyBzdG9yZWQgaW4gbG9jYWxTdG9yYWdlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nW119IFRoZSBhcnJheSBvZiBrZXlzXG4gICAqL1xuICBDcm9zc1N0b3JhZ2VIdWIuX2dldEtleXMgPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICB2YXIgaSwgbGVuZ3RoLCBrZXlzO1xuXG4gICAga2V5cyA9IFtdO1xuICAgIGxlbmd0aCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UubGVuZ3RoO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXlzLnB1c2god2luZG93LmxvY2FsU3RvcmFnZS5rZXkoaSkpO1xuICAgIH1cblxuICAgIHJldHVybiBrZXlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IGEgdmFsdWUgaXMgcHJlc2VudCBpbiB0aGUgYXJyYXkuIENvbnNpc3RzIG9mIGFuXG4gICAqIGFsdGVybmF0aXZlIHRvIGV4dGVuZGluZyB0aGUgYXJyYXkgcHJvdG90eXBlIGZvciBpbmRleE9mLCBzaW5jZSBpdCdzXG4gICAqIHVuYXZhaWxhYmxlIGZvciBJRTguXG4gICAqXG4gICAqIEBwYXJhbSAgIHsqfSAgICB2YWx1ZSBUaGUgdmFsdWUgdG8gZmluZFxuICAgKiBAcGFybWEgICB7W10qfSAgYXJyYXkgVGhlIGFycmF5IGluIHdoaWNoIHRvIHNlYXJjaFxuICAgKiBAcmV0dXJucyB7Ym9vbH0gV2hldGhlciBvciBub3QgdGhlIHZhbHVlIHdhcyBmb3VuZFxuICAgKi9cbiAgQ3Jvc3NTdG9yYWdlSHViLl9pbkFycmF5ID0gZnVuY3Rpb24odmFsdWUsIGFycmF5KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHZhbHVlID09PSBhcnJheVtpXSkgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBIGNyb3NzLWJyb3dzZXIgdmVyc2lvbiBvZiBEYXRlLm5vdyBjb21wYXRpYmxlIHdpdGggSUU4IHRoYXQgYXZvaWRzXG4gICAqIG1vZGlmeWluZyB0aGUgRGF0ZSBvYmplY3QuXG4gICAqXG4gICAqIEByZXR1cm4ge2ludH0gVGhlIGN1cnJlbnQgdGltZXN0YW1wIGluIG1pbGxpc2Vjb25kc1xuICAgKi9cbiAgQ3Jvc3NTdG9yYWdlSHViLl9ub3cgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodHlwZW9mIERhdGUubm93ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gRGF0ZS5ub3coKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEV4cG9ydCBmb3IgdmFyaW91cyBlbnZpcm9ubWVudHMuXG4gICAqL1xuICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IENyb3NzU3RvcmFnZUh1YjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBleHBvcnRzLkNyb3NzU3RvcmFnZUh1YiA9IENyb3NzU3RvcmFnZUh1YjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoW10sIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIENyb3NzU3RvcmFnZUh1YjtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByb290LkNyb3NzU3RvcmFnZUh1YiA9IENyb3NzU3RvcmFnZUh1YjtcbiAgfVxufSh0aGlzKSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8vIFNldHRpbmdzIGNvbmZpZ3VyZWQgaGVyZSB3aWxsIGJlIG1lcmdlZCBpbnRvIHRoZSBmaW5hbCBjb25maWcgb2JqZWN0LlxuZXhwb3J0IGRlZmF1bHQge1xuICBwZXJQYWdlOiAxNSxcbiAgc3Bpbm5lckNvbmZpZzoge1xuICAgICAgbGluZXM6IDExIC8vIFRoZSBudW1iZXIgb2YgbGluZXMgdG8gZHJhd1xuICAgICwgbGVuZ3RoOiAwIC8vIFRoZSBsZW5ndGggb2YgZWFjaCBsaW5lXG4gICAgLCB3aWR0aDogOCAvLyBUaGUgbGluZSB0aGlja25lc3NcbiAgICAsIHJhZGl1czogNjAgLy8gVGhlIHJhZGl1cyBvZiB0aGUgaW5uZXIgY2lyY2xlXG4gICAgLCBzY2FsZTogMC4yNSAvLyBTY2FsZXMgb3ZlcmFsbCBzaXplIG9mIHRoZSBzcGlubmVyXG4gICAgLCBjb3JuZXJzOiAxIC8vIENvcm5lciByb3VuZG5lc3MgKDAuLjEpXG4gICAgLCBjb2xvcjogJyMwMDAnIC8vICNyZ2Igb3IgI3JyZ2diYiBvciBhcnJheSBvZiBjb2xvcnNcbiAgICAsIG9wYWNpdHk6IDAuMjUgLy8gT3BhY2l0eSBvZiB0aGUgbGluZXNcbiAgICAsIHJvdGF0ZTogMCAvLyBUaGUgcm90YXRpb24gb2Zmc2V0XG4gICAgLCBkaXJlY3Rpb246IDEgLy8gMTogY2xvY2t3aXNlLCAtMTogY291bnRlcmNsb2Nrd2lzZVxuICAgICwgc3BlZWQ6IDEgLy8gUm91bmRzIHBlciBzZWNvbmRcbiAgICAsIHRyYWlsOiA5MSAvLyBBZnRlcmdsb3cgcGVyY2VudGFnZVxuICAgICwgZnBzOiAyMCAvLyBGcmFtZXMgcGVyIHNlY29uZCB3aGVuIHVzaW5nIHNldFRpbWVvdXQoKSBhcyBhIGZhbGxiYWNrIGZvciBDU1NcbiAgICAsIHpJbmRleDogMmU5IC8vIFRoZSB6LWluZGV4IChkZWZhdWx0cyB0byAyMDAwMDAwMDAwKVxuICAgICwgY2xhc3NOYW1lOiAnc3Bpbm5lcicgLy8gVGhlIENTUyBjbGFzcyB0byBhc3NpZ24gdG8gdGhlIHNwaW5uZXJcbiAgICAsIHRvcDogJzUwJScgLy8gVG9wIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHBhcmVudFxuICAgICwgbGVmdDogJzUwJScgLy8gTGVmdCBwb3NpdGlvbiByZWxhdGl2ZSB0byBwYXJlbnRcbiAgICAsIHNoYWRvdzogZmFsc2UgLy8gV2hldGhlciB0byByZW5kZXIgYSBzaGFkb3dcbiAgICAsIGh3YWNjZWw6IGZhbHNlIC8vIFdoZXRoZXIgdG8gdXNlIGhhcmR3YXJlIGFjY2VsZXJhdGlvblxuICAgICwgcG9zaXRpb246ICdhYnNvbHV0ZScgLy8gRWxlbWVudCBwb3NpdGlvbmluZ1xuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBiYXNlQ29uZmlnIGZyb20gJy4vYmFzZSc7XG5cbmxldCBjb25maWcgPSB7XG4gIGFwcEVudjogJ2RldicsICAvLyBmZWVsIGZyZWUgdG8gcmVtb3ZlIHRoZSBhcHBFbnYgcHJvcGVydHkgaGVyZVxuICBhcGlCYXNlOiAnaHR0cDovL2xvY2FsaG9zdDo4ODg4L3YwLycsXG4gIGNyb3NzU3RvcmFnZVJ1bGVzOiBbXG4gICAge1xuICAgICAgICBvcmlnaW46IC9sb2NhbGhvc3Q6MzAzMCQvLFxuICAgICAgICBhbGxvdzogWydnZXQnXVxuICAgIH1cbiAgXVxufTtcblxuZXhwb3J0IGRlZmF1bHQgT2JqZWN0LmZyZWV6ZShPYmplY3QuYXNzaWduKHt9LCBiYXNlQ29uZmlnLCBjb25maWcpKTtcbiIsIm1vZHVsZS5leHBvcnRzID0ge1xuICBDcm9zc1N0b3JhZ2VDbGllbnQ6IHJlcXVpcmUoJy4vY2xpZW50LmpzJyksXG4gIENyb3NzU3RvcmFnZUh1YjogICAgcmVxdWlyZSgnLi9odWIuanMnKVxufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=